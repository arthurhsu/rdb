if(!self.window){window=self;}
(function(){'use strict';function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function g(a){return function(){return this[a]}}function l(a){return function(){return a}}var m,ca=this;function p(a){return void 0!==a}function da(){}
function fa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ga(a){return null===a}function ha(a){return null!=a}function ia(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ja(a){return"string"==typeof a}function ka(a){return"function"==fa(a)}function la(a){return a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;function oa(a,b,c){return a.call.apply(a.bind,arguments)}
function pa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function qa(a,b,c){qa=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?oa:pa;return qa.apply(null,arguments)}
function ra(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function q(a,b){var c=a.split("."),d=ca;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&p(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function r(a,b){function c(){}c.prototype=b.prototype;a.hb=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Xg=function(a,c,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[c].apply(a,h)}};function sa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,sa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}r(sa,Error);sa.prototype.name="CustomError";var ta=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};
function ua(a){var b=0,c=ta(String(va)).split(".");a=ta(String(a)).split(".");for(var d=Math.max(c.length,a.length),e=0;0==b&&e<d;e++){var f=c[e]||"",h=a[e]||"",k=/(\d*)(\D*)/g,n=/(\d*)(\D*)/g;do{var B=k.exec(f)||["","",""],O=n.exec(h)||["","",""];if(0==B[0].length&&0==O[0].length)break;b=wa(0==B[1].length?0:parseInt(B[1],10),0==O[1].length?0:parseInt(O[1],10))||wa(0==B[2].length,0==O[2].length)||wa(B[2],O[2])}while(0==b)}return b}function wa(a,b){return a<b?-1:a>b?1:0};function xa(a,b,c){this.rg=c;this.Rf=a;this.Mg=b;this.td=0;this.jd=null}xa.prototype.get=function(){var a;0<this.td?(this.td--,a=this.jd,this.jd=a.next,a.next=null):a=this.Rf();return a};xa.prototype.put=function(a){this.Mg(a);this.td<this.rg&&(this.td++,a.next=this.jd,this.jd=a)};var ya=Array.prototype.indexOf?function(a,b,c){return Array.prototype.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(ja(a))return ja(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},za=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ja(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Aa=Array.prototype.map?function(a,b,c){return Array.prototype.map.call(a,
b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=ja(a)?a.split(""):a,h=0;h<d;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},Ba=Array.prototype.reduce?function(a,b,c,d){d&&(b=qa(b,d));return Array.prototype.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;za(a,function(c,h){e=b.call(d,e,c,h,a)});return e},Ca=Array.prototype.some?function(a,b,c){return Array.prototype.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=ja(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};
function Da(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function Ea(a){for(var b=[],c=0;c<a;c++)b[c]=0;return b}function Fa(a){for(var b=[],c=0;c<arguments.length;c++){var d=arguments[c];if("array"==fa(d))for(var e=0;e<d.length;e+=8192)for(var f=Fa.apply(null,Da(d,e,e+8192)),h=0;h<f.length;h++)b.push(f[h]);else b.push(d)}return b};function Ga(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b};var Ha;a:{var Ia=ca.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break a}}Ha=""}function t(a){return-1!=Ha.indexOf(a)};function Ka(){return t("Opera")||t("OPR")}function La(){return(t("Chrome")||t("CriOS"))&&!Ka()&&!t("Edge")};function Na(a){ca.setTimeout(function(){throw a;},0)}var Oa;
function Pa(){var a=ca.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!t("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=qa(function(a){if(("*"==d||a.origin==d)&&a.data==
c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!t("Trident")&&!t("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.Ge;c.Ge=null;a()}};return function(a){d.next={Ge:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");
b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){ca.setTimeout(a,0)}};function Qa(){this.Dd=this.rc=null}var Sa=new xa(function(){return new Ra},function(a){a.reset()},100);Qa.prototype.add=function(a,b){var c=Sa.get();c.set(a,b);this.Dd?this.Dd.next=c:this.rc=c;this.Dd=c};Qa.prototype.remove=function(){var a=null;this.rc&&(a=this.rc,this.rc=this.rc.next,this.rc||(this.Dd=null),a.next=null);return a};function Ra(){this.next=this.scope=this.Vd=null}Ra.prototype.set=function(a,b){this.Vd=a;this.scope=b;this.next=null};
Ra.prototype.reset=function(){this.next=this.scope=this.Vd=null};function Ta(a,b){Ua||Va();Wa||(Ua(),Wa=!0);Xa.add(a,b)}var Ua;function Va(){if(ca.Promise&&ca.Promise.resolve){var a=ca.Promise.resolve(void 0);Ua=function(){a.then(Ya)}}else Ua=function(){var a=Ya;!ka(ca.setImmediate)||ca.Window&&ca.Window.prototype&&!t("Edge")&&ca.Window.prototype.setImmediate==ca.setImmediate?(Oa||(Oa=Pa()),Oa(a)):ca.setImmediate(a)}}var Wa=!1,Xa=new Qa;function Ya(){for(var a=null;a=Xa.remove();){try{a.Vd.call(a.scope)}catch(b){Na(b)}Sa.put(a)}Wa=!1};function u(a,b){this.Sa=0;this.qf=void 0;this.Yc=this.gc=this.F=null;this.hd=this.Td=!1;if(a!=da)try{var c=this;a.call(b,function(a){Za(c,2,a)},function(a){Za(c,3,a)})}catch(d){Za(this,3,d)}}function $a(){this.next=this.context=this.lc=this.Lc=this.child=null;this.Gd=!1}$a.prototype.reset=function(){this.context=this.lc=this.Lc=this.child=null;this.Gd=!1};var ab=new xa(function(){return new $a},function(a){a.reset()},100);function bb(a,b,c){var d=ab.get();d.Lc=a;d.lc=b;d.context=c;return d}
function v(a){if(a instanceof u)return a;var b=new u(da);Za(b,2,a);return b}function cb(a){return new u(function(b,c){c(a)})}function db(a,b,c){eb(a,b,c,null)||Ta(ra(b,a))}function fb(a){return new u(function(b,c){var d=a.length,e=[];if(d)for(var f=function(a,c){d--;e[a]=c;0==d&&b(e)},h=function(a){c(a)},k=0,n;k<a.length;k++)n=a[k],db(n,ra(f,k),h);else b(e)})}function gb(){var a,b,c=new u(function(c,e){a=c;b=e});return new hb(c,a,b)}
u.prototype.then=function(a,b,c){return ib(this,ka(a)?a:null,ka(b)?b:null,c)};u.prototype.then=u.prototype.then;u.prototype.$goog_Thenable=!0;u.prototype.we=function(a,b){return ib(this,null,a,b)};function jb(a,b){a.gc||2!=a.Sa&&3!=a.Sa||kb(a);a.Yc?a.Yc.next=b:a.gc=b;a.Yc=b}
function ib(a,b,c,d){var e=bb(null,null,null);e.child=new u(function(a,h){e.Lc=b?function(c){try{var e=b.call(d,c);a(e)}catch(B){h(B)}}:a;e.lc=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof lb?h(b):a(e)}catch(B){h(B)}}:h});e.child.F=a;jb(a,e);return e.child}u.prototype.Sg=function(a){this.Sa=0;Za(this,2,a)};u.prototype.Tg=function(a){this.Sa=0;Za(this,3,a)};
function Za(a,b,c){0==a.Sa&&(a==c&&(b=3,c=new TypeError("Promise cannot resolve to itself")),a.Sa=1,eb(c,a.Sg,a.Tg,a)||(a.qf=c,a.Sa=b,a.F=null,kb(a),3!=b||c instanceof lb||mb(a,c)))}function eb(a,b,c,d){if(a instanceof u)return jb(a,bb(b||da,c||null,d)),!0;var e;if(a)try{e=!!a.$goog_Thenable}catch(h){e=!1}else e=!1;if(e)return a.then(b,c,d),!0;e=typeof a;if("object"==e&&null!=a||"function"==e)try{var f=a.then;if(ka(f))return nb(a,f,b,c,d),!0}catch(h){return c.call(d,h),!0}return!1}
function nb(a,b,c,d,e){function f(a){k||(k=!0,d.call(e,a))}function h(a){k||(k=!0,c.call(e,a))}var k=!1;try{b.call(a,h,f)}catch(n){f(n)}}function kb(a){a.Td||(a.Td=!0,Ta(a.Yf,a))}function ob(a){var b=null;a.gc&&(b=a.gc,a.gc=b.next,b.next=null);a.gc||(a.Yc=null);return b}
u.prototype.Yf=function(){for(var a=null;a=ob(this);){var b=this.Sa,c=this.qf;if(3==b&&a.lc&&!a.Gd)for(var d=void 0,d=this;d&&d.hd;d=d.F)d.hd=!1;if(a.child)a.child.F=null,pb(a,b,c);else try{a.Gd?a.Lc.call(a.context):pb(a,b,c)}catch(e){qb.call(null,e)}ab.put(a)}this.Td=!1};function pb(a,b,c){2==b?a.Lc.call(a.context,c):a.lc&&a.lc.call(a.context,c)}function mb(a,b){a.hd=!0;Ta(function(){a.hd&&qb.call(null,b)})}var qb=Na;function lb(a){sa.call(this,a)}r(lb,sa);lb.prototype.name="cancel";
function hb(a,b,c){this.ha=a;this.resolve=b;this.reject=c};function rb(a,b,c,d){c=c||function(a,b){return a==b};d=d||function(b){return a[b]};for(var e=a.length,f=b.length,h=[],k=0;k<e+1;k++)h[k]=[],h[k][0]=0;for(var n=0;n<f+1;n++)h[0][n]=0;for(k=1;k<=e;k++)for(n=1;n<=f;n++)c(a[k-1],b[n-1])?h[k][n]=h[k-1][n-1]+1:h[k][n]=Math.max(h[k-1][n],h[k][n-1]);for(var B=[],k=e,n=f;0<k&&0<n;)c(a[k-1],b[n-1])?(B.unshift(d(k-1,n-1)),k--,n--):h[k-1][n]>h[k][n-1]?k--:n--;return B}function sb(a){return Ba(arguments,function(a,c){return a+c},0)}
function tb(a){return sb.apply(null,arguments)/arguments.length}function ub(a){var b=arguments.length;if(2>b)return 0;var c=tb.apply(null,arguments);return sb.apply(null,Aa(arguments,function(a){return Math.pow(a-c,2)}))/(b-1)}function vb(a){return Math.sqrt(ub.apply(null,arguments))};var wb="StopIteration"in ca?ca.StopIteration:{message:"StopIteration",stack:""};function xb(){}xb.prototype.next=function(){throw wb;};xb.prototype.sc=function(){return this};function yb(a){if(a instanceof xb)return a;if("function"==typeof a.sc)return a.sc(!1);if(ia(a)){var b=0,c=new xb;c.next=function(){for(;;){if(b>=a.length)throw wb;if(b in a)return a[b++];b++}};return c}throw Error("Not implemented");}
function zb(a,b){if(ia(a))try{za(a,b,void 0)}catch(c){if(c!==wb)throw c;}else{a=yb(a);try{for(;;)b.call(void 0,a.next(),void 0,a)}catch(c){if(c!==wb)throw c;}}}function Ab(a){if(Ca(arguments,function(a){return!a.length})||!arguments.length)return new xb;var b=new xb,c=arguments,d=Ea(c.length);b.next=function(){if(d){for(var a=Aa(d,function(a,b){return c[b][a]}),b=d.length-1;0<=b;b--){if(d[b]<c[b].length-1){d[b]++;break}if(0==b){d=null;break}d[b]=0}return a}throw wb;};return b};function Bb(a,b){this.l={};this.a=[];this.Ta=this.Gb=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}m=Bb.prototype;m.Cc=g("Gb");m.ra=function(){Eb(this);for(var a=[],b=0;b<this.a.length;b++)a.push(this.l[this.a[b]]);return a};function Fb(a){Eb(a);return a.a.concat()}m.Oa=function(a){return Gb(this.l,a)};m.md=function(){return 0==this.Gb};
m.clear=function(){this.l={};this.Ta=this.Gb=this.a.length=0};m.remove=function(a){return Gb(this.l,a)?(delete this.l[a],this.Gb--,this.Ta++,this.a.length>2*this.Gb&&Eb(this),!0):!1};function Eb(a){if(a.Gb!=a.a.length){for(var b=0,c=0;b<a.a.length;){var d=a.a[b];Gb(a.l,d)&&(a.a[c++]=d);b++}a.a.length=c}if(a.Gb!=a.a.length){for(var e={},c=b=0;b<a.a.length;)d=a.a[b],Gb(e,d)||(a.a[c++]=d,e[d]=1),b++;a.a.length=c}}m.get=function(a,b){return Gb(this.l,a)?this.l[a]:b};
m.set=function(a,b){Gb(this.l,a)||(this.Gb++,this.a.push(a),this.Ta++);this.l[a]=b};m.addAll=function(a){var b;if(a instanceof Bb)b=Fb(a),a=a.ra();else{b=[];var c=0,d;for(d in a)b[c++]=d;a=Ga(a)}for(c=0;c<b.length;c++)this.set(b[c],a[c])};m.forEach=function(a,b){for(var c=Fb(this),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};m.clone=function(){return new Bb(this)};
m.sc=function(a){Eb(this);var b=0,c=this.Ta,d=this,e=new xb;e.next=function(){if(c!=d.Ta)throw Error("The map has changed since the iterator was created");if(b>=d.a.length)throw wb;var e=d.a[b++];return a?e:d.l[e]};return e};function Gb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Hb(){return t("iPhone")&&!t("iPod")&&!t("iPad")};var Ib=Ka(),Jb=t("Trident")||t("MSIE"),Kb=t("Edge"),Lb=t("Gecko")&&!(-1!=Ha.toLowerCase().indexOf("webkit")&&!t("Edge"))&&!(t("Trident")||t("MSIE"))&&!t("Edge"),Mb=-1!=Ha.toLowerCase().indexOf("webkit")&&!t("Edge"),Nb;
a:{var Ob="",Pb=function(){var a=Ha;if(Lb)return/rv\:([^\);]+)(\)|;)/.exec(a);if(Kb)return/Edge\/([\d\.]+)/.exec(a);if(Jb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Mb)return/WebKit\/(\S+)/.exec(a);if(Ib)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Pb&&(Ob=Pb?Pb[1]:"");if(Jb){var Qb,Rb=ca.document;Qb=Rb?Rb.documentMode:void 0;if(null!=Qb&&Qb>parseFloat(Ob)){Nb=String(Qb);break a}}Nb=Ob}var va=Nb,Sb={};var Tb=Hb()||t("iPod"),Ub=t("iPad"),Vb=La(),Wb=t("Safari")&&!(La()||t("Coast")||Ka()||t("Edge")||t("Silk")||t("Android"))&&!(Hb()||t("iPad")||t("iPod"));/*

 Copyright 2015 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function Xb(){this.qe=Wb||Ub||Tb;this.hg=!(this.qe||Jb&&!Sb[10]&&!(Sb[10]=0<=ua(10)));!Jb||Sb[11]||(Sb[11]=0<=ua(11));this.Wg=Vb||Wb;this.wg=p(window.Map)&&p(window.Map.prototype.values)&&p(window.Map.prototype.forEach)&&!this.qe;this.xg=p(window.Set)&&p(window.Set.prototype.values)&&p(window.Set.prototype.forEach)&&!this.qe}var Yb;function Zb(){p(Yb)||(Yb=new Xb);return Yb};function w(){this.l=new Bb;Object.defineProperty(this,"size",{get:function(){return this.l.Cc()}})}w.prototype.clear=function(){this.l.clear()};w.prototype.clear=w.prototype.clear;w.prototype.delete=function(a){return this.l.remove(a)};w.prototype["delete"]=w.prototype.delete;w.prototype.forEach=function(a,b){return this.l.forEach(a,b)};w.prototype.forEach=w.prototype.forEach;w.prototype.get=function(a){return this.l.get(a)};w.prototype.get=w.prototype.get;w.prototype.has=function(a){return this.l.Oa(a)};
w.prototype.has=w.prototype.has;w.prototype.set=function(a,b){return this.l.set(a,b)};w.prototype.set=w.prototype.set;var $b=Zb().wg;function x(){return $b?new window.Map:new w}function ac(a){if(a instanceof w)return Fb(a.l);var b=0,c=Array(a.size);a.forEach(function(a,e){c[b++]=e});return c}function y(a){if(a instanceof w)return a.l.ra();var b=0,c=Array(a.size);a.forEach(function(a){c[b++]=a});return c};/*

 Copyright 2014 The Lovefield Project Authors. All Rights Reserved.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
*/
function bc(a,b){this.sa=a;this.m=b||this.Le()}var cc=0;m=bc.prototype;m.id=g("sa");m.Le=function(){return{}};m.yf=g("m");m.Ja=function(){return{id:this.sa,value:this.yf()}};m.pb=function(a){return"#"==a.substr(-1)?this.sa:null};function dc(a){return new bc(a.id,a.value)}function ec(a){return new bc(cc++,a||{})}function gc(a){if(null==a)return null;a=new Uint8Array(a);for(var b="",c=0;c<a.length;++c)var d=a[c].toString(16),b=b+(2>d.length?"0"+d:d);return b};var hc={};q("lf.TransactionType",hc);hc.READ_ONLY=0;hc.READ_WRITE=1;function z(a,b,c,d,e){this.yd=a;this.lg=b;this.Vg=c;this.Tf=d;this.Lf=e}q("lf.TransactionStats",z);z.prototype.Qg=g("yd");z.prototype.success=z.prototype.Qg;z.prototype.kg=g("lg");z.prototype.insertedRowCount=z.prototype.kg;z.prototype.Ug=g("Vg");z.prototype.updatedRowCount=z.prototype.Ug;z.prototype.Sf=g("Tf");z.prototype.deletedRowCount=z.prototype.Sf;z.prototype.Kf=g("Lf");z.prototype.changedTableCount=z.prototype.Kf;function ic(a,b){this.Ad=a;this.Qa=b||null;this.S=gb();this.yd=!1;this.za=null}ic.prototype.ka=function(){return(0==this.Ad?this.vc():jc(this)).then(function(a){this.yd=!0;return a}.bind(this))};function jc(a){try{kc(a.Qa)}catch(b){return cb(b)}return lc(a).then(function(a){this.Qa.ka();return a}.bind(a))}function lc(a){mc(a);nc(a);return a.vc()}
function mc(a){a.Qa.ib.forEach(function(a,c){var d=this.Qa.da().get(c),d=this.H(d.getName(),d.mb.bind(d),0),e=y(a.xa).map(function(a){return a.id()});0<e.length&&d.remove(e).we(this.Te,this);e=y(a.ma).map(function(a){return a[1]}).concat(y(a.wa));d.put(e).we(this.Te,this)},a)}function nc(a){oc(a.Qa).forEach(function(a){var c=this.H(a.getName(),dc,1);c.remove([]);c.put(a.Ja())},a)}ic.prototype.Te=function(a){this.S.reject(a)};
ic.prototype.Y=function(){if(null===this.za)if(this.yd)if(0==this.Ad)this.za=new z(!0,0,0,0,0);else{var a=0,b=0,c=0,d=0;this.Qa.ib.forEach(function(e){d++;a+=e.wa.size;c+=e.ma.size;b+=e.xa.size});this.za=new z(!0,a,c,b,d)}else this.za=new z(!1,0,0,0,0);return this.za};function pc(a){this.Ng=a}pc.prototype.toString=g("Ng");var qc=new pc("backstore"),rc=new pc("cache"),sc=new pc("indexstore"),tc=new pc("engine"),uc=new pc("runner"),vc=new pc("observerregistry"),wc=new pc("schema");function xc(a){if(a.ra&&"function"==typeof a.ra)return a.ra();if(ja(a))return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ga(a)};function yc(a){this.l=new Bb;a&&this.addAll(a)}function zc(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+la(a):b.substr(0,1)+a}m=yc.prototype;m.Cc=function(){return this.l.Cc()};m.add=function(a){this.l.set(zc(a),a)};m.addAll=function(a){a=xc(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};m.remove=function(a){return this.l.remove(zc(a))};m.clear=function(){this.l.clear()};m.md=function(){return this.l.md()};m.contains=function(a){return this.l.Oa(zc(a))};m.ra=function(){return this.l.ra()};
m.clone=function(){return new yc(this)};m.sc=function(){return this.l.sc(!1)};function Ac(a){this.$b=new yc(a);Object.defineProperty(this,"size",{get:function(){return this.$b.Cc()}})}Ac.prototype.add=function(a){this.$b.add(a)};Ac.prototype.add=Ac.prototype.add;Ac.prototype.clear=function(){this.$b.clear()};Ac.prototype.clear=Ac.prototype.clear;Ac.prototype.delete=function(a){return this.$b.remove(a)};Ac.prototype["delete"]=Ac.prototype.delete;Ac.prototype.forEach=function(a,b){this.$b.ra().forEach(a,b)};Ac.prototype.has=function(a){return this.$b.contains(a)};
Ac.prototype.has=Ac.prototype.has;var Bc=Zb().xg;function A(a){return Bc?p(a)?new window.Set(a):new window.Set:new Ac(a)}function C(a){if(a instanceof Ac)return a.$b.ra();var b=0,c=Array(a.size);a.forEach(function(a){c[b++]=a});return c}function Cc(a,b){if(b.size>a.size)return!1;var c=!0;b.forEach(function(b){c=c&&a.has(b)});return c};function Dc(a,b){this.sa=a;this.m=b||{}}function Ec(a){var b=A();a.forEach(function(a){b.add(a>>9)});return C(b)}Dc.prototype.W=g("sa");function Fc(a,b){b.forEach(function(a){this.m[a.id()]=a.Ja()},a)}function Gc(a,b){b.forEach(function(a){delete this.m[a]},a)}Dc.prototype.Ja=function(){return{id:this.sa,value:JSON.stringify(this.m)}};function Hc(a){return new Dc(a.id,JSON.parse(a.value))};function Ic(a,b,c){this.Z=a;this.Ib=b;this.rf=c}m=Ic.prototype;m.get=function(a){if(0==a.length)return this.Wd();var b=this.Ib;return Jc(this,a).then(function(c){return a.map(function(a){var e=c.get(a>>9);return b(e.m[a])})})};function Jc(a,b){var c=x(),d=gb(),e=Ec(b).map(function(a){return new u(function(b,d){var e;try{e=this.Z.get(a)}catch(B){d(B);return}e.onerror=d;e.onsuccess=function(a){a=Hc(a.target.result);c.set(a.W(),a);b()}},this)},a);fb(e).then(function(){d.resolve(c)});return d.ha}
m.Wd=function(){return new u(function(a,b){var c=[],d;try{d=this.Z.openCursor()}catch(e){b(e);return}d.onerror=b;d.onsuccess=function(){var b=d.result;if(b){var f;f=Hc(b.value).m;for(var h in f)c.push(this.Ib(f[h]));b.continue()}else a(c)}.bind(this)},this)};m.Wb=function(a){return new u(function(b,c){var d;try{d=a()}catch(e){c(e);return}d.onsuccess=b;d.onerror=c},this)};
m.put=function(a){if(0==a.length)return v();var b=x();a.forEach(function(a){var d;d=a.id()>>9;var e=b.get(d)||null;null===e&&(e=this.rf(this.Z.name,d));Fc(e,[a]);b.set(d,e)},this);a=y(b).map(function(a){return this.Wb(function(){return this.Z.put(a.Ja())}.bind(this))},this);return fb(a)};
m.remove=function(a){if(0==a.length)return this.Wb(function(){return this.Z.clear()}.bind(this));var b=x();a.forEach(function(a){var d=a>>9,e=b.get(d)||null;null===e&&(e=this.rf(this.Z.name,d));Gc(e,[a]);b.set(d,e)},this);a=y(b).map(function(a){return this.Wb(function(){return 0==Object.keys(a.m).length?this.Z.delete(a.W()):this.Z.put(a.Ja())}.bind(this))},this);return fb(a)};function Kc(a,b,c){a=a.b(rc);var d=[c<<9,(c+1<<9)-1];b=a.Ua(b,d[0],d[1]);c=new Dc(c);Fc(c,b);return c}
function Lc(a,b){return new Dc(b)};function Mc(a){this.V=a.b(rc);this.D=a.b(sc);this.g=a.b(wc)}Mc.prototype.update=function(a){a.forEach(function(a){Nc(this,a);Oc(this,a)},this)};function Oc(a,b){var c=b.getName();b.xa.forEach(function(a,b){this.V.remove(c,b)},a);b.wa.forEach(function(a){this.V.set(c,a)},a);b.ma.forEach(function(a){this.V.set(c,a[1])},a)}function Nc(a,b){var c=a.g.table(b.getName());Pc(b).forEach(function(a){Qc(this,c,a)},a)}
function Qc(a,b,c){var d=a.D.oc.get(b.getName())||[],e=0;d.forEach(function(a){try{Rc(a,c),e++}catch(b){throw d.slice(0,e).forEach(function(a){Rc(a,[c[1],c[0]])},this),b;}},a)}function Rc(a,b){var c=null===b[1]?void 0:b[1].pb(a.getName()),d=null===b[0]?void 0:b[0].pb(a.getName());if(!p(d)&&p(c))a.add(c,b[1].id());else if(p(d)&&p(c)){if(null===c||null===d){if(c==d)return}else if(0==a.lb().compare(d,c))return;a.add(c,b[1].id());a.remove(d,b[0].id())}else p(d)&&!p(c)&&a.remove(d,b[0].id())};var Sc={};q("lf.ConstraintAction",Sc);Sc.RESTRICT=0;Sc.CASCADE=1;var Tc={};q("lf.ConstraintTiming",Tc);Tc.IMMEDIATE=0;Tc.DEFERRABLE=1;var Uc={};q("lf.Order",Uc);Uc.DESC=0;Uc.ASC=1;var Wc={};q("lf.Type",Wc);Wc.ARRAY_BUFFER=0;Wc.BOOLEAN=1;Wc.DATE_TIME=2;Wc.INTEGER=3;Wc.NUMBER=4;Wc.STRING=5;Wc.OBJECT=6;var Xc={0:null,1:!1,2:Object.freeze(new Date(0)),3:0,4:0,5:"",6:null};q("lf.type.DEFAULT_VALUES",Xc);function D(a,b){this.code=a;this.message="http://sn.im/2a0j3wn?c="+a;if(1<arguments.length)for(var c=1;c<=Math.min(4,arguments.length-1);++c)this.message+="&p"+(c-1)+"="+encodeURIComponent(arguments[c].toString().slice(0,64))}r(D,Error);function Yc(){this.l=x();this.size=0}m=Yc.prototype;m.has=function(a){return this.l.has(a)};m.set=function(a,b){var c=this.l.get(a)||null;null===c&&(c=A(),this.l.set(a,c));c.has(b)||(c.add(b),this.size++);return this};m.Zb=function(a,b){var c=this.l.get(a)||null;null===c&&(c=A(),this.l.set(a,c));b.forEach(function(a){c.has(a)||(c.add(a),this.size++)},this);return this};m.ce=function(a){a.keys().forEach(function(b){var c=a.get(b);this.Zb(b,c)},this);return this};
m.delete=function(a,b){var c=this.l.get(a)||null;if(null===c)return!1;var d=c.delete(b);d&&(--this.size,0==c.size&&this.l.delete(a));return d};m.get=function(a){a=this.l.get(a)||null;return null===a?null:C(a)};m.clear=function(){this.l.clear();this.size=0};m.keys=function(){return ac(this.l)};m.values=function(){var a=[];this.l.forEach(function(b){a.push.apply(a,C(b))});return a};function Zc(a){this.D=a.b(sc);this.g=a.b(wc);this.V=a.b(rc);this.bd=null}function $c(a,b,c){var d=b.Jb().zg;c.forEach(function(a){d.forEach(function(b){if(null==a.m[b.getName()])throw new D(202,b.j());},this)},a)}function ad(a,b,c,d){b.Jb().Xd().forEach(function(a){a.timing==d&&bd(this,a,c)},a)}function bd(a,b,c){var d=cd(a,b);c.forEach(function(a){if(dd(a[0],a[1],b.name)&&(a=a[1].pb(b.name),null!==a&&!d.Oa(a)))throw new D(203,b.name);},a)}
function cd(a,b){null===a.bd&&(a.bd=x());var c=a.bd.get(b.name)||null;null===c&&(c=a.g.table(b.Wa)[b.Mc].Ca(),c=a.D.get(c.j()),a.bd.set(b.name,c));return c}function dd(a,b,c){return(null===a?null!==b:null===b)||a.pb(c)!=b.pb(c)}function ed(a,b,c,d){b=fd(a.g.info(),b.getName(),0);null!==b&&(b=b.filter(function(a){return a.timing==d}),0!=b.length&&gd(a,b,c,function(a,b,c){if(b.Oa(c))throw new D(203,a.name);}))}
function hd(a,b,c){b=fd(a.g.info(),b.getName(),1);if(null===b)return null;var d=new Yc;gd(a,b,c,function(a,b,c){b=b.get(c);0<b.length&&d.Zb(a.He,b)});return d}function id(a,b,c){var d=new Yc;gd(a,c,b,function(a,b,c,k){b.get(c).forEach(function(b){d.set(b,{Ud:a,Eg:k[1]})})});return d}function gd(a,b,c,d){b.forEach(function(a){var b=this.D.get(a.name),h=cd(this,a);c.forEach(function(c){if(dd(c[0],c[1],h.getName())){var n=c[0].pb(h.getName());d(a,b,n,c)}},this)},a)}
function jd(a,b,c,d){0!=c.length&&(c=c.map(function(a){return[null,a]}),ad(a,b,c,d))}function kd(a,b,c,d){0!=c.length&&(ad(a,b,c,d),ed(a,b,c,d))}function ld(a,b,c,d){0!=c.length&&(c=c.map(function(a){return[a,null]}),ed(a,b,c,d))}
function md(a,b,c){var d={ve:[],tf:new Yc},e=new Yc;e.Zb(b.getName(),c.map(function(a){return a.id()}));do{var f=new Yc;e.keys().forEach(function(a){var b=this.g.table(a);a=e.get(a).map(function(a){return[this.V.get(a),null]},this);b=hd(this,b,a);null!==b&&(d.ve.unshift.apply(d.ve,b.keys()),f.ce(b))},a);e=f;d.tf.ce(e)}while(0<e.size);return d};function nd(a){this.wa=x();this.ma=x();this.xa=x();this.A=a}m=nd.prototype;m.getName=g("A");m.add=function(a){if(this.xa.has(a.id())){var b=[this.xa.get(a.id()),a];this.ma.set(a.id(),b);this.xa.delete(a.id())}else this.wa.set(a.id(),a)};m.modify=function(a){var b=a[1],c=a[0].id();this.wa.has(c)?this.wa.set(c,b):(this.ma.has(c)&&(a=[this.ma.get(a[0].id())[0],b]),this.ma.set(c,a))};
m.delete=function(a){if(this.wa.has(a.id()))this.wa.delete(a.id());else if(this.ma.has(a.id())){var b=this.ma.get(a.id())[0];this.ma.delete(a.id());this.xa.set(a.id(),b)}else this.xa.set(a.id(),a)};m.ce=function(a){a.wa.forEach(function(a){this.add(a)},this);a.ma.forEach(function(a){this.modify(a)},this);a.xa.forEach(function(a){this.delete(a)},this)};
function Pc(a){var b=[];a.wa.forEach(function(a){b.push([null,a])});a.ma.forEach(function(a){b.push(a)});a.xa.forEach(function(a){b.push([a,null])});return b}m.toString=function(){return"["+ac(this.wa).toString()+"], ["+ac(this.ma).toString()+"], ["+ac(this.xa).toString()+"]"};function od(a){var b=new nd(a.A);a.wa.forEach(function(a){b.delete(a)});a.xa.forEach(function(a){b.add(a)});a.ma.forEach(function(a){b.modify([a[1],a[0]])});return b}
m.md=function(){return 0==this.wa.size&&0==this.xa.size&&0==this.ma.size};function pd(a,b){this.aa=x();b.forEach(function(a){this.aa.set(a.getName(),a)},this);this.g=a.b(wc);this.V=a.b(rc);this.D=a.b(sc);this.Aa=new Zc(a);this.kd=new Mc(a);this.ib=x()}function oc(a){var b=[];ac(a.ib).map(function(a){return this.aa.get(a)},a).forEach(function(a){a.Fb()&&(a.Da().forEach(function(a){b.push(this.D.get(a.j()))},this),b.push(this.D.get(a.getName()+".#")))},a);return b}m=pd.prototype;m.da=g("aa");
m.Db=function(a,b){qd(this,a);$c(this.Aa,a,b);jd(this.Aa,a,b,0);for(var c=0;c<b.length;c++)rd(this,a,[null,b[c]])};function rd(a,b,c){var d=b.getName(),e=a.ib.get(d)||new nd(d);a.ib.set(d,e);try{Qc(a.kd,b,c)}catch(h){throw h;}b=c[0];var f=c[1];null===b&&null!==f?(a.V.set(d,f),e.add(f)):null!==b&&null!==f?(a.V.set(d,f),e.modify(c)):null!==b&&null===f&&(a.V.remove(d,b.id()),e.delete(b))}
m.update=function(a,b){qd(this,a);$c(this.Aa,a,b);var c=b.map(function(a){return[this.V.get(a.id()),a]},this);sd(this,a,c);kd(this.Aa,a,c,0);c.forEach(function(b){rd(this,a,b)},this)};m.Yd=function(a,b){qd(this,a);$c(this.Aa,a,b);for(var c=0;c<b.length;c++){var d=b[c],e=null,f,h=a.Jb().ed();if(null===h)f=null;else{f=this.Aa;var h=h.j(),k=d.pb(h);f=f.D.get(h).get(k);f=0==f.length?null:f[0]}null!=f?(e=this.V.get(f),d.sa=f,kd(this.Aa,a,[[e,d]],0)):jd(this.Aa,a,[d],0);rd(this,a,[e,d])}};
m.remove=function(a,b){qd(this,a);td(this,a,b);ld(this.Aa,a,b,0);for(var c=0;c<b.length;c++)rd(this,a,[b[c],null])};function sd(a,b,c){b=fd(a.g.info(),b.getName(),1);if(null!==b){var d=id(a.Aa,c,b);d.keys().forEach(function(a){d.get(a).forEach(function(b){var c=this.g.table(b.Ud.He),d=this.V.get(a),n=c.mb(d.Ja());n.m[b.Ud.yb]=b.Eg.m[b.Ud.Mc];rd(this,c,[d,n])},this)},a)}}
function td(a,b,c){if(null!==fd(a.g.info(),b.getName(),1)){b=md(a.Aa,b,c);var d=b.tf;b.ve.forEach(function(a){var b=this.g.table(a);a=d.get(a).map(function(a){return this.V.get(a)},this);ld(this.Aa,b,a,0);a.forEach(function(a){rd(this,b,[a,null])},this)},a)}}function kc(a){a.ib.forEach(function(a){var c=this.aa.get(a.getName());jd(this.Aa,c,y(a.wa),1);ld(this.Aa,c,y(a.xa),1);kd(this.Aa,c,y(a.ma),1)},a)}m.ka=aa();m.Mb=function(){var a=y(this.ib).map(function(a){return od(a)});this.kd.update(a)};
function qd(a,b){if(!a.aa.has(b.getName()))throw new D(106,b.getName());};function E(a,b,c,d){this.from=a;this.o=b;this.ea=this.from==F?!1:c;this.oa=this.o==F?!1:d}var F=new (aa());E.prototype.toString=function(){return(this.ea?"(":"[")+(this.from==F?"unbound":this.from)+", "+(this.o==F?"unbound":this.o)+(this.oa?")":"]")};function ud(a){if(vd(a))return[];var b=null,c=null;a.from==F||(b=new E(F,a.from,!1,!a.ea));a.o==F||(c=new E(a.o,F,!a.oa,!1));return[b,c].filter(function(a){return null!==a})}E.prototype.reverse=function(){return new E(this.o,this.from,this.oa,this.ea)};
function wd(a,b){var c=xd(a.from,b.from,!0,a.ea,b.ea);if(0==c)return!0;var d=-1==c?a:b,c=1==c?a:b;return d.o==F||d.o>c.from||d.o==c.from&&!d.oa&&!c.ea}function yd(){return new E(F,F,!1,!1)}function vd(a){return a.from==F&&a.o==F}function zd(a){return a.from==a.o&&a.from!=F&&!a.ea&&!a.oa}E.prototype.contains=function(a){var b=this.o==F||a<this.o||a==this.o&&!this.oa;return(this.from==F||a>this.from||a==this.from&&!this.ea)&&b};
function xd(a,b,c,d,e){function f(a){return c?a:1==a?-1:1}d=d||!1;e=e||!1;return a==F?b==F?(d?!e:e)?d?f(1):f(-1):0:f(-1):b==F?f(1):a<b?-1:a==b?(d?!e:e)?d?f(1):f(-1):0:1}function Ad(a,b){var c=xd(a.from,b.from,!0,a.ea,b.ea);0==c&&(c=xd(a.o,b.o,!1,a.oa,b.oa));return c}function Bd(a){if(0==a.length)return[];a.sort(Ad);for(var b=Array(a.length+1),c=0;c<b.length;c++)b[c]=0==c?new E(F,a[c].from,!1,!0):c==b.length-1?new E(a[c-1].o,F,!0,!1):new E(a[c-1].o,a[c].from,!0,!0);return b};function Cd(a){this.nc=[];p(a)&&this.add(a)}Cd.prototype.toString=function(){return this.nc.map(function(a){return a.toString()}).join(",")};Cd.prototype.Oa=function(a){return this.nc.some(function(b){return b.contains(a)})};Cd.prototype.ra=g("nc");
Cd.prototype.add=function(a){if(0!=a.length)if(a=this.nc.concat(a),1==a.length)this.nc=a;else{a.sort(Ad);for(var b=[],c=a[0],d=1;d<a.length;++d)if(wd(c,a[d])){var e=a[d],f=yd();if(c.from!=F&&e.from!=F){var h=xd(c.from,e.from,!0);1!=h?(f.from=c.from,f.ea=0!=h?c.ea:c.ea&&e.ea):(f.from=e.from,f.ea=e.ea)}c.o!=F&&e.o!=F&&(h=xd(c.o,e.o,!1),-1!=h?(f.o=c.o,f.oa=0!=h?c.oa:c.oa&&e.oa):(f.o=e.o,f.oa=e.oa));c=f}else b.push(c),c=a[d];b.push(c);this.nc=b}};
function Dd(a,b){var c=[];a.ra().map(function(a){return b.ra().map(function(b){var c;if(wd(a,b)){c=yd();var h=xd(a.from,b.from,!0),h=0==h?a.ea?a:b:-1!=h?a:b;c.from=h.from;c.ea=h.ea;a.o==F||b.o==F?b=a.o==F?b:a:(h=xd(a.o,b.o,!1),b=0==h?a.oa?a:b:-1==h?a:b);c.o=b.o;c.oa=b.oa}else c=null;return c})}).forEach(function(a){c=c.concat(a)});return new Cd(c.filter(function(a){return null!==a}))};function G(a,b){this.entries=a;this.M=A(b);this.Za=null}G.prototype.s=function(){return C(this.M)};function Ed(a){return a.entries.map(function(a){return a.va.m})}function Fd(a){return a.entries.map(function(a){return a.va.id()})}function Gd(a,b){return a.Za.get(b.j())}var Hd=null;function Id(){null===Hd&&(Hd=new G([],[]));return Hd}
function Jd(a){if(0==a.length)return Id();for(var b=a.reduce(function(a,b){return a+b.entries.length},0),c=Array(b),d=0,b=a.map(function(a){var b=x();a.entries.forEach(function(a){c[d++]=a;b.set(a.id,a)});return b}),e=x(),f=0;f<c.length;f++)b.every(function(a){return a.has(c[f].id)})&&e.set(c[f].id,c[f]);return new G(y(e),C(a[0].M))}function Kd(a){if(0==a.length)return Id();var b=x();a.forEach(function(a){a.entries.forEach(function(a){b.set(a.id,a)})});return new G(y(b),C(a[0].M))}
function Ld(a,b){var c=1<b.length,d=a.map(function(a){return new Md(a,c)});return new G(d,b)}function Md(a,b){this.va=a;this.id=Nd++;this.$d=b}var Nd=0;function H(a,b){var c=b.$a();return null!==c&&a.va.m.hasOwnProperty(c)?a.va.m[c]:a.$d?a.va.m[Od(b.H())][b.getName()]:a.va.m[b.getName()]}function Pd(a,b,c){var d=b.$a();if(null!=d)a.va.m[d]=c;else if(a.$d){var d=Od(b.H()),e=a.va.m[d];null==e&&(e={},a.va.m[d]=e);e[b.getName()]=c}else a.va.m[b.getName()]=c}
function Qd(a,b,c,d){function e(a,b){if(a.$d){var c=a.va.m,d;for(d in c)f[d]=c[d]}else f[b[0]]=a.va.m}var f={};e(a,b);e(c,d);a=new bc(-1,f);return new Md(a,!0)};q("lf.bind",function(a){return new Rd(a)});function Rd(a){this.fa=a}q("lf.Binder",Rd);Rd.prototype.Ca=g("fa");function Sd(){this.Ze=Td();var a=Ud();this.Qb=x();this.Qb.set(1,Vd());this.Qb.set(2,Wd());this.Qb.set(4,a);this.Qb.set(3,a);this.Qb.set(5,Xd());this.Qb.set(6,Yd())}var Zd;function $d(){null!=Zd||(Zd=new Sd);return Zd}function ae(a,b,c){a=a.Qb.get(b)||null;if(null===a)throw new D(550);c=a.get(c)||null;if(null===c)throw new D(550);return c}
function Td(){function a(a){return a}var b=x();b.set(1,function(a){return null===a?null:a?1:0});b.set(2,function(a){return null===a?null:a.getTime()});b.set(3,a);b.set(4,a);b.set(5,a);return b}function Vd(){var a=x();a.set("eq",function(a,c){return a==c});a.set("neq",function(a,c){return a!=c});return a}
function Ud(){var a=Vd();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a>=c[0]&&a<=c[1]});a.set("gte",function(a,c){return null===a||null===c?!1:a>=c});a.set("gt",function(a,c){return null===a||null===c?!1:a>c});a.set("in",function(a,c){return-1!=c.indexOf(a)});a.set("lte",function(a,c){return null===a||null===c?!1:a<=c});a.set("lt",function(a,c){return null===a||null===c?!1:a<c});return a}
function Xd(){var a=Ud();a.set("match",function(a,c){return null===a||null===c?!1:(new RegExp(c)).test(a)});return a}function Yd(){var a=x();a.set("eq",function(a,c){if(null!==c)throw new D(550);return null===a});a.set("neq",function(a,c){if(null!==c)throw new D(550);return null!==a});return a}
function Wd(){var a=x();a.set("between",function(a,c){return null===a||null===c[0]||null===c[1]?!1:a.getTime()>=c[0].getTime()&&a.getTime()<=c[1].getTime()});a.set("eq",function(a,c){return(null===a?-1:a.getTime())==(null===c?-1:c.getTime())});a.set("gte",function(a,c){return null===a||null===c?!1:a.getTime()>=c.getTime()});a.set("gt",function(a,c){return null===a||null===c?!1:a.getTime()>c.getTime()});a.set("in",function(a,c){return c.some(function(c){return c.getTime()==a.getTime()})});a.set("lte",
function(a,c){return null===a||null===c?!1:a.getTime()<=c.getTime()});a.set("lt",function(a,c){return null===a||null===c?!1:a.getTime()<c.getTime()});a.set("neq",function(a,c){return(null===a?-1:a.getTime())!=(null===c?-1:c.getTime())});return a};function I(){this.h=this.F=null}var be=[];I.prototype.getParent=g("F");I.prototype.ab=function(){for(var a=this;!ga(a.getParent());)a=a.getParent();return a};function ce(a){for(var b=0;!ga(a.getParent());)b++,a=a.getParent();return b}function J(a){return a.h||be}function de(a,b){return J(a)[b]||null}function ee(a,b,c){b.F=a;null===a.h?a.h=[b]:a.h.splice(c,0,b)}function K(a,b){b.F=a;null===a.h?a.h=[b]:a.h.push(b)}
function fe(a,b){var c=a.h&&a.h[b];return c?(c.F=null,a.h.splice(b,1),0==a.h.length&&(a.h=null),c):null}I.prototype.removeChild=function(a){return fe(this,J(this).indexOf(a))};function ge(a,b,c){de(a,c).F=null;b.F=a;a.h[c]=b}function he(a,b,c){!1!==b.call(c,a)&&J(a).forEach(function(a){he(a,b,c)})};function ie(){I.call(this);this.sa=je++}r(ie,I);var je=0;ie.prototype.W=g("sa");function ke(a,b,c){ie.call(this);this.J=a;this.value=b;this.C=c;this.yc=ae($d(),this.J.I(),this.C);this.Va=!1;this.fc=b}r(ke,ie);m=ke.prototype;m.Pb=function(){var a=new ke(this.J,this.value,this.C);a.fc=this.fc;a.xd(this.Va);var b=this.W();a.sa=b;return a};m.nb=function(a){return null!=a?(a.push(this.J),a):[this.J]};m.s=function(a){a=null!=a?a:A();a.add(this.J.H());return a};m.xd=ba("Va");
function le(a){var b=!1;a.value instanceof Rd||(b="array"==fa(a.value)?!a.value.some(function(a){return a instanceof Rd}):!0);if(!b)throw new D(501);}m.eval=function(a){le(this);if("in"==this.C)return me(this,a);var b=a.entries.filter(function(a){return this.yc(H(a,this.J),this.value)!=this.Va},this);return new G(b,a.s())};
m.bind=function(a){if(this.fc instanceof Rd){var b=this.fc.Ca();if(a.length<=b)throw new D(510);this.value=a[b]}else"array"==fa(this.fc)&&(this.value=this.fc.map(function(b){if(b instanceof Rd){var d=b.Ca();if(a.length<=d)throw new D(510);return a[b.Ca()]}return b}))};function me(a,b){var c=A(a.value),d=function(a){return null===a?!1:c.has(a)!=this.Va}.bind(a),e=b.entries.filter(function(a){return d(H(a,this.J))},a);return new G(e,b.s())}
m.toString=function(){return"value_pred("+this.J.j()+" "+this.C+(this.Va?"(complement)":"")+" "+this.value+")"};m.od=function(){le(this);return null!==this.value&&("between"==this.C||"in"==this.C||"eq"==this.C||"gt"==this.C||"gte"==this.C||"lt"==this.C||"lte"==this.C)};
m.xe=function(){var a=null;if("between"==this.C)a=new E(ne(this,this.value[0]),ne(this,this.value[1]),!1,!1);else{if("in"==this.C)return a=this.value.map(function(a){return new E(a,a,!1,!1)}),new Cd(this.Va?Bd(a):a);a=ne(this,this.value);a="eq"==this.C?new E(a,a,!1,!1):"gte"==this.C?new E(a,F,!1,!1):"gt"==this.C?new E(a,F,!0,!1):"lte"==this.C?new E(F,a,!1,!1):new E(F,a,!1,!0)}return new Cd(this.Va?ud(a):[a])};function ne(a,b){return 2==a.J.I()?b.getTime():b};function oe(a){this.ba=a;this.Zc=this.Ga=null}function pe(a,b){null===a.Ga&&null!=a.w&&(a.Ga=qe(a.w));return a.Ga.get(b)||null}function qe(a){var b=x();he(a,function(a){b.set(a.W(),a)});return b}function se(a,b){b.w&&(a.w=b.w.Pb());a.Zc=b}oe.prototype.bind=function(){return this};function te(a,b){var c=a.w;null!=c&&he(c,function(a){a instanceof ke&&a.bind(b)})};function ue(a){oe.call(this,a)}r(ue,oe);function ve(a){var b="";a.forEach(function(c,d){b+=c.J.j()+" ";b+=1==c.sb?"ASC":"DESC";d<a.length-1&&(b+=", ")});return b}ue.prototype.da=function(){return A(this.from)};ue.prototype.clone=function(){var a=new ue(this.ba);se(a,this);this.f&&(a.f=this.f.slice());this.from&&(a.from=this.from.slice());a.X=this.X;a.L=this.L;this.N&&(a.N=this.N.slice());this.la&&(a.la=this.la.slice());this.Vb&&(a.Vb=this.Vb);this.bc&&(a.bc=this.bc);a.cb=this.cb;return a};
ue.prototype.bind=function(a){ue.hb.bind.call(this,a);null!=this.Vb&&(this.X=a[this.Vb.Ca()]);null!=this.bc&&(this.L=a[this.bc.Ca()]);te(this,a);return this};function we(a,b){this.Ha=a;this.aa=b}we.prototype.ab=g("Ha");we.prototype.da=g("aa");function xe(a){var b=A();a.forEach(function(a){a.da().forEach(b.add.bind(b))});return b};function ye(a,b){this.global=a;this.Na=a.b(qc);this.vd=b.map(function(a){return a.context});this.jf=b.map(function(a){return a.ke});this.Od=xe(this.jf);this.ye=ze(this);this.fb=gb()}function ze(a){return a.vd.some(function(a){return!(a instanceof ue)})?1:0}m=ye.prototype;
m.exec=function(){function a(){var f=d.shift();if(f){var h=e[c.length];return f.ab().exec(b,h).then(function(b){c.push(b[0]);return a()})}return v()}var b=0==this.ye?void 0:new pd(this.global,this.Od),c=[],d=this.jf.slice(),e=this.vd;return a().then(function(){this.ja=this.Na.Hb(this.ye,C(this.Od),b);return this.ja.ka()}.bind(this)).then(function(){this.he(c);return c}.bind(this),function(a){null!=b&&b.Mb();throw a;})};m.I=g("ye");m.da=g("Od");m.Rb=g("fb");m.W=function(){return la(this)};m.he=aa();
m.Y=function(){var a=null;null!=this.ja&&(a=this.ja.Y());return null===a?new z(!1,0,0,0,0):a};function Ae(a,b){ye.call(this,a,b);this.Lb=a.b(vc)}r(Ae,ye);Ae.prototype.getPriority=l(0);Ae.prototype.he=function(a){this.vd.forEach(function(b,c){Be(this.Lb,b,a[c])},this)};function Ce(a,b){this.c=a;this.Lb=a.b(vc);this.Ia=a.b(uc);this.kd=new Mc(a);this.ib=b;var c=a.b(wc),d=this.ib.map(function(a){return c.table(a.getName())});this.aa=A(d);this.fb=gb()}m=Ce.prototype;m.exec=function(){this.kd.update(this.ib);this.Pc();return v()};m.I=l(1);m.da=g("aa");m.Rb=g("fb");m.W=function(){return la(this)};m.getPriority=l(1);m.Pc=function(){var a=De(this.Lb,this.aa);0!=a.length&&(a=new Ae(this.c,a),Ee(this.Ia,a))};function Fe(a){this.c=a;this.Na=a.b(qc);this.Ia=a.b(uc)}Fe.prototype.fe=function(a){a=new Ce(this.c,a);Ee(this.Ia,a)};function L(a,b){this.Ta=a;this.i=b;this.Ya=x()}q("lf.backstore.FirebaseRawBackStore",L);L.prototype.fd=g("i");L.prototype.gd=function(){throw new D(351);};function Ge(a,b){var c=gb(),d=a;b.length&&(d=a.child(b));d.once("value",function(a){c.resolve(a.val())},function(a){c.reject(a)});return c.ha}function He(a,b,c){function d(a){a?e.reject(a):e.resolve()}c=c||!1;var e=gb();c?a.set(b,d):a.update(b,d);return e.ha}
L.prototype.Ea=function(a){return Ge(this.i,"@rev/R").then(function(a){this.Ra=a;return Ge(this.i,"@table")}.bind(this)).then(function(b){var c=0,d;for(d in b)this.Ya.set(d,b[d]),b[d]>c&&(c=b[d]);a.pa().forEach(function(a){this.Ya.has(a.getName())||(b[a.getName()]=++c)},this);d=this.i.child("@table");return He(d,b)}.bind(this))};
function Ie(a,b,c){var d=a.Ya.get(b);return null!=d?function(){var a={},b=gb();this.i.orderByChild("T").equalTo(d).once("value",function(d){d.forEach(function(b){var d=c(b.val());a[parseInt(b.key(),10)]=d});b.resolve(a)});return b.ha}.call(a).then(function(a){a["@rev"]={R:++this.Ra};return He(this.i,a)}.bind(a)):v()}L.prototype.wc=function(a){return Ie(this,a,l(null)).then(function(){this.Ya.delete(a);return He(this.i.child("@table/"+a),null,!0)}.bind(this))};L.prototype.dropTable=L.prototype.wc;
L.prototype.tc=function(a,b,c){return Ie(this,a,function(a){var e=a.P;e[b]=c;return{R:this.Ra+1,T:a.T,P:e}}.bind(this))};L.prototype.addTableColumn=L.prototype.tc;L.prototype.xc=function(a,b){return Ie(this,a,function(a){var d=a.P;delete d[b];return{R:this.Ra+1,T:a.T,P:d}}.bind(this))};L.prototype.dropTableColumn=L.prototype.xc;L.prototype.Oc=function(a,b,c){return Ie(this,a,function(a){var e=a.P;e[c]=e[b];delete e[b];return{R:this.Ra+1,T:a.T,P:e}}.bind(this))};L.prototype.renameTableColumn=L.prototype.Oc;
L.prototype.Ab=function(){throw new D(351);};L.prototype.createRow=L.prototype.Ab;L.prototype.Fc=g("Ta");L.prototype.getVersion=L.prototype.Fc;L.prototype.hc=function(a){var b=gb();a=this.Ya.get(a);this.i.orderByChild("T").equalTo(a).once("value",function(a){var d=[];a.forEach(function(a){d.push(a.val().P)});b.resolve(d)});return b.ha};L.prototype.dump=function(){var a={},b=ac(this.Ya).map(function(b){return this.hc(b).then(function(d){a[b]=d})}.bind(this));return fb(b).then(function(){return a})};
L.prototype.dump=L.prototype.dump;function Je(a,b,c){ic.call(this,b,c);this.i=a}r(Je,ic);Je.prototype.H=function(a){return this.i.Dc(a)};
Je.prototype.vc=function(){if(0==this.Ad)return this.S.resolve(),this.S.ha;var a=this.Qa.ib;if(0==a.size)this.S.resolve();else{var b=this.i.Ra+1;this.i.Ra=b;var c={"@rev":{R:b}};a.forEach(function(a,e){var f=this.i.Ya.get(e);a.wa.forEach(function(a,d){c[d]={R:b,T:f,P:a.m}});a.ma.forEach(function(a,d){c[d]={R:b,T:f,P:a[1].m}});a.xa.forEach(function(a,b){c[b]=null})},this);this.i.i.update(c,function(c){null===c?this.S.resolve():(this.i.Ra=b-1,c=y(a).map(function(a){return Ke(this.i,a.getName())},this),
fb(c).then(this.S.reject.bind(this.S),this.S.reject.bind(this.S)))}.bind(this))}return this.S.ha};function Le(){this.Ba=x()}function Me(a,b){if(0==b.length)return y(a.Ba);var c=[];b.forEach(function(a){a=this.Ba.get(a)||null;null===a||c.push(a)},a);return c}Le.prototype.getData=g("Ba");Le.prototype.get=function(a){return v(Me(this,a))};function Ne(a,b){b.forEach(function(a){this.Ba.set(a.id(),a)},a)}Le.prototype.put=function(a){Ne(this,a);return v()};function Oe(a,b){0==b.length||b.length==a.Ba.size?a.Ba.clear():b.forEach(function(a){this.Ba.delete(a)},a)}
Le.prototype.remove=function(a){Oe(this,a);return v()};function Pe(a){return 0==a.Ba.size?0:ac(a.Ba).reduce(function(a,c){return a>c?a:c},0)};function Qe(a,b){this.g=a;this.Ff=b;this.Nc=x();this.Ra=-1;this.M=x();this.Ya=x();this.Ld=null}m=Qe.prototype;
m.Ea=function(a){this.i=this.Ff.child(this.g.name());var b=a||function(){return v()};return Ge(this.i,"@db/version").then(function(a){return null===a?He(this.i,Re(this),!0).then(function(){var a=new L(0,this.i);return b(a)}.bind(this)).then(function(){return this.Ea()}.bind(this)):a==this.g.version()?Ge(this.i,"@rev/R").then(function(a){this.Ra=a;return Ge(this.i,"@table")}.bind(this)).then(function(a){for(var b in a)this.Ya.set(b,a[b]);a=this.g.pa().map(function(a){return Ke(this,a.getName())},this);
return fb(a)}.bind(this)).then(function(){Se(this);Te(this);return v()}.bind(this)):this.ie(a,b).then(function(){return this.Ea()}.bind(this))}.bind(this))};m.ie=function(a,b){var c=new L(a,this.i);return c.Ea(this.g).then(function(){return v()}.bind(this)).then(function(){return b(c)}).then(function(){var a=this.i.child("@db");return He(a,{version:this.g.version()},!0)}.bind(this))};
function Te(a){a.i.off();a.i.on("child_removed",a.Bg.bind(a));a.Md&&(a.Md.off(),a.Nc.clear());a.Md=a.i.orderByChild("R").startAt(a.Ra+1);a.Md.on("value",a.fe.bind(a))}function Se(a){cc=y(a.M).map(function(a){return Pe(a)}).reduce(function(a,c){return a>c?a:c},0)+1}m.Bg=function(a){var b=a.val(),c=this.Nc.get(b.T)||null;null===c&&(c=A(),this.Nc.set(b.T,c));c.add(parseInt(a.key(),10))};
m.fe=function(a){var b=a.child("@rev/R").val();null!=b&&b!=this.Ra&&(this.Ra=b,a=Ue(this,a),a.forEach(function(a){var b=this.M.get(a.getName()),e=ac(a.xa);0<e.length&&Oe(b,e);var f=y(a.wa);a.ma.forEach(function(a){f.push(a[1])});Ne(b,f)},this),0<a.length&&this.Jc(a),Te(this))};
function Ue(a,b){var c=A(),d=x();a.Ya.forEach(function(a,b){var h=this.M.get(b),k=new nd(b);if(this.Nc.has(a)){var n=C(this.Nc.get(a));n.forEach(function(a){c.add(a)});Me(h,n).forEach(function(a){k.delete(a)})}d.set(a,k)}.bind(a));b.forEach(function(a){if("@rev"!=a.key()){var b=parseInt(a.key(),10);if(!c.has(b)){var h=a.val();a=d.get(h.T);var k=this.M.get(a.getName()),h=this.g.table(a.getName()).mb({id:b,value:h.P});k.getData().has(b)?a.modify([Me(k,[b])[0],h]):a.add(h)}}}.bind(a));return y(d).filter(function(a){return!a.md()})}
function Ke(a,b){var c=gb(),d=a.Ya.get(b),e=a.g.table(b);a.i.orderByChild("T").equalTo(d).once("value",function(a){var d=new Le,k=[];a.forEach(function(a){k.push(e.mb({id:parseInt(a.key(),10),value:a.val().P}))});Ne(d,k);this.M.set(b,d);c.resolve()}.bind(a));return c.ha}function Re(a){var b={};b["@db"]={version:a.g.version()};b["@rev"]={R:1};a.Ra=1;b["@table"]={};a.g.pa().forEach(function(a,d){var e=a.getName();b["@table"][e]=d;this.M.set(e,new Le);this.Ya.set(e,d)},a);return b}
m.Hb=function(a,b,c){return new Je(this,a,c)};m.Dc=function(a){var b=this.M.get(a)||null;if(null!==b)return b;throw new D(101,a);};m.close=aa();m.subscribe=ba("Ld");m.Jc=function(a){null!=this.Ld&&this.Ld(a)};function M(a,b,c,d){this.i=b;this.ja=c;this.Ta=a;this.Xc=d}q("lf.backstore.IndexedDBRawBackStore",M);M.prototype.fd=g("i");M.prototype.getRawDBInstance=M.prototype.fd;M.prototype.gd=g("ja");M.prototype.getRawTransaction=M.prototype.gd;M.prototype.wc=function(a){return new u(function(b,c){try{this.i.deleteObjectStore(a)}catch(d){c(d);return}b()},this)};M.prototype.dropTable=M.prototype.wc;
function Ve(a,b,c,d){return new u(function(a,f){var h;try{var k=this.ja.objectStore(b);h=k.openCursor()}catch(n){f(n);return}h.onsuccess=function(){var b=h.result;b?(c(b),b.continue()):(d(k),a())};h.onerror=f},a)}function We(a){var b=null;return b=a instanceof ArrayBuffer?gc(a):a instanceof Date?a.getTime():a}
function Xe(a,b,c){function d(a){var b=Hc(a.value),d=b.m,e;for(e in d){var B=dc(d[e]);c(B);d[e]=B.Ja()}a.update(b.Ja())}function e(a){var b=dc(a.value);c(b);a.update(b.Ja())}return Ve(a,b,a.Xc?d:e,aa())}M.prototype.tc=function(a,b,c){var d=We(c);return Xe(this,a,function(a){a.m[b]=d})};M.prototype.addTableColumn=M.prototype.tc;M.prototype.xc=function(a,b){return Xe(this,a,function(a){delete a.m[b]})};M.prototype.dropTableColumn=M.prototype.xc;
M.prototype.Oc=function(a,b,c){return Xe(this,a,function(a){a.m[c]=a.m[b];delete a.m[b]})};M.prototype.renameTableColumn=M.prototype.Oc;function Ye(a,b){var c=[];return new u(function(a,e){var f;try{f=this.ja.objectStore(b).openCursor()}catch(h){e(h);return}f.onsuccess=function(){var b=f.result;if(b){if(this.Xc){var e;e=Hc(b.value).m;for(var n in e)c.push(e[n])}else c.push(b.value);b.continue()}else a(c)}.bind(this);f.onerror=e},a)}M.prototype.Ab=function(a){var b={},c;for(c in a)b[c]=We(a[c]);return ec(b)};
M.prototype.createRow=M.prototype.Ab;M.prototype.Fc=g("Ta");M.prototype.getVersion=M.prototype.Fc;M.prototype.dump=function(){for(var a=this.i.objectStoreNames,b=[],c=0;c<a.length;++c){var d=a.item(c);b.push(this.hc(d))}return fb(b).then(function(b){var c={};b.forEach(function(b,d){c[a.item(d)]=b});return c})};M.prototype.dump=M.prototype.dump;M.prototype.hc=function(a){return Ye(this,a).then(function(a){return a.map(function(a){return a.value})})};function Ze(a,b){this.Z=a;this.Ib=b}Ze.prototype.get=function(a){if(0==a.length)return null!=this.Z.getAll?$e(this):af(this);a=a.map(function(a){return new u(function(c,d){var e;try{e=this.Z.get(a)}catch(f){d(f);return}e.onerror=d;e.onsuccess=function(a){c(this.Ib(a.target.result))}.bind(this)},this)},this);return fb(a)};
function af(a){return new u(function(a,c){var d=[],e;try{e=this.Z.openCursor()}catch(f){c(f);return}e.onerror=c;e.onsuccess=function(){var c=e.result;c?(d.push(this.Ib(c.value)),c.continue()):a(d)}.bind(this)},a)}function $e(a){return new u(function(a,c){var d;try{d=this.Z.getAll()}catch(e){c(e);return}d.onerror=c;d.onsuccess=function(){var c=d.result.map(function(a){return this.Ib(a)},this);a(c)}.bind(this)},a)}
Ze.prototype.Wb=function(a){return new u(function(b,c){var d;try{d=a()}catch(e){c(e);return}d.onsuccess=b;d.onerror=c},this)};Ze.prototype.put=function(a){if(0==a.length)return v();a=a.map(function(a){return this.Wb(function(){return this.Z.put(a.Ja())}.bind(this))},this);return fb(a)};
Ze.prototype.remove=function(a){return new u(function(b,c){var d=this.Z.count();d.onsuccess=function(d){if(0==a.length||d.target.result==a.length)return this.Wb(function(){return this.Z.clear()}.bind(this)).then(b,c);d=a.map(function(a){return this.Wb(function(){return this.Z.delete(a)}.bind(this))},this);fb(d).then(b,c)}.bind(this);d.onerror=c},this)};function bf(a,b,c,d,e){ic.call(this,c,e);this.c=a;this.ja=b;this.Xc=d;this.ja.oncomplete=this.S.resolve.bind(this.S);this.ja.onabort=this.S.reject.bind(this.S)}r(bf,ic);bf.prototype.H=function(a,b,c){return this.Xc?(c=null!=c?c:0,a=this.ja.objectStore(a),new Ic(a,b,0==c?ra(Kc,this.c):Lc)):new Ze(this.ja.objectStore(a),b)};bf.prototype.vc=function(){return this.S.ha};function cf(a,b){this.c=a;this.g=b;this.Id=b.kf().Vf||!1}m=cf.prototype;
m.Ea=function(a){var b=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(null==b)throw new D(352);var c=a||function(){return v()};return new u(function(a,e){var f;try{f=b.open(this.g.name(),this.g.version())}catch(h){e(h);return}f.onerror=function(a){a=a.target.error;e(new D(361,a.name,a.message))};f.onupgradeneeded=function(a){df(this,c,a).then(aa(),e)}.bind(this);f.onsuccess=function(b){this.i=b.target.result;this.re().then(function(b){cc=b+1;a(this.i)}.bind(this))}.bind(this)},
this)};function df(a,b,c){var d=c.target.result;c=new M(c.oldVersion,d,c.target.transaction,a.Id);ef(d);a.g.pa().forEach(ra(a.Of,d),a);return b(c)}function ef(a){for(var b=[],c=0;c<a.objectStoreNames.length;++c){var d=a.objectStoreNames.item(c);-1!=d.indexOf(".")&&b.push(d)}b.forEach(function(b){try{a.deleteObjectStore(b)}catch(c){}})}
m.Of=function(a,b){a.objectStoreNames.contains(b.getName())||a.createObjectStore(b.getName(),{keyPath:"id"});b.Fb()&&(b.Da().forEach(function(b){ff(a,b.j())},this),ff(a,gf(b)))};function ff(a,b){a.objectStoreNames.contains(b)||a.createObjectStore(b,{keyPath:"id"})}m.Hb=function(a,b,c){b=this.i.transaction(hf(b),0==a?"readonly":"readwrite");return new bf(this.c,b,a,this.Id,c)};
function hf(a){var b=A();a.forEach(function(a){b.add(a.getName());a.Fb()&&(a.Da().forEach(function(a){b.add(a.j())}),b.add(gf(a)))});return C(b)}
m.re=function(a){function b(){if(0==d.length)return v();var a=d.shift();return c(a).then(b)}function c(b){return new u(function(c,d){var O;try{O=(a||e.transaction([b])).objectStore(b).openCursor(null,"prev")}catch(ea){d(ea);return}O.onsuccess=function(a){(a=a.target.result)&&(f=Math.max(f,h(a)));c(f)};O.onerror=function(){c(f)}})}var d=this.g.pa().map(function(a){return a.getName()}),e=this.i,f=0,h=function(a){return this.Id?(a=Hc(a.value),Object.keys(a.m).reduce(function(a,b){return Math.max(a,b)},
0)):a.key}.bind(this);return new u(function(a){b().then(function(){a(f)})})};m.close=function(){this.i.close()};m.Dc=function(){throw new D(511);};m.subscribe=aa();m.Jc=aa();function jf(a,b,c){ic.call(this,b,c);this.Z=a;0==b&&this.S.resolve()}r(jf,ic);jf.prototype.H=function(a){return this.Z.Dc(a)};jf.prototype.vc=function(){this.S.resolve();return this.S.ha};function kf(a){this.g=a;this.M=x()}m=kf.prototype;m.Ea=function(){this.g.pa().forEach(this.ig,this);return v()};m.Dc=function(a){var b=this.M.get(a)||null;if(null===b)throw new D(101,a);return b};m.Hb=function(a,b,c){return new jf(this,a,c)};function mf(a,b){if(!a.M.has(b)){var c=new Le;a.M.set(b,c)}}m.ig=function(a){mf(this,a.getName());a.Fb()&&(a.Da().forEach(function(a){mf(this,a.j())},this),mf(this,gf(a)))};m.close=aa();m.subscribe=aa();m.Jc=aa();function nf(a){kf.call(this,a);this.sd=null}r(nf,kf);nf.prototype.subscribe=function(a){null===this.sd&&(this.sd=a)};nf.prototype.Jc=function(a){null===this.sd||this.sd(a)};function of(a,b,c){this.ja=a;this.A='"'+b+'"';this.Ib=c}of.prototype.get=function(a){var b=this.Ib;return pf(this.ja,"SELECT id, value FROM "+this.A+" "+(0==a.length?"":"WHERE id IN ("+a.join(",")+")"),[],function(a){for(var d=a.rows.length,e=Array(d),f=0;f<d;++f)e[f]=b({id:a.rows.item(f).id,value:JSON.parse(a.rows.item(f).value)});return e})};
of.prototype.put=function(a){if(0==a.length)return v();var b="INSERT OR REPLACE INTO "+this.A+"(id, value) VALUES (?, ?)";a.forEach(function(a){pf(this.ja,b,[a.id(),JSON.stringify(a.m)])},this);return v()};of.prototype.remove=function(a){pf(this.ja,"DELETE FROM "+this.A+" "+(0==a.length?"":"WHERE id IN ("+a.join(",")+")"),[]);return v()};function qf(a,b,c){ic.call(this,b,c);this.i=a;this.M=x();this.Pd=[]}r(qf,ic);function rf(a){return a.replace(".","__d__").replace("#","__s__")}qf.prototype.H=function(a,b){var c=this.M.get(a)||null;null===c&&(c=new of(this,rf(a),b),this.M.set(a,c));return c};function pf(a,b,c,d){var e=gb();a.Pd.push({Pg:b,Fg:c,transform:d,S:e});return e.ha}
qf.prototype.vc=function(){var a=null,b=this.S.reject.bind(this.S),c=function(a,b){this.S.reject(b)}.bind(this),d=[],e=function(b,h){if(null!==a){var k=h;null!=a.transform&&null!=h&&(k=a.transform(h));d.push(k);a.S.resolve(k)}0<this.Pd.length?(a=k=this.Pd.shift(),b.executeSql(k.Pg,k.Fg,e,c)):this.S.resolve(d)}.bind(this);0==this.Ad?this.i.readTransaction(e,b):this.i.transaction(e,b);return this.S.ha};function N(a,b,c){this.i=c;this.c=a;this.Ta=b}q("lf.backstore.WebSqlRawBackStore",N);N.prototype.fd=g("i");N.prototype.getRawDBInstance=N.prototype.fd;N.prototype.gd=function(){throw new D(356);};N.prototype.getRawTransaction=N.prototype.gd;function sf(a){return new qf(a.i,1,new pd(a.c,A()))}N.prototype.wc=function(a){var b=sf(this);pf(b,"DROP TABLE "+a,[]);return b.ka()};N.prototype.dropTable=N.prototype.wc;
N.prototype.hc=function(a){var b=sf(this);pf(b,"SELECT id, value FROM "+a,[]);return b.ka().then(function(a){for(var b=a[0].rows.length,e=Array(b),f=0;f<b;++f)e[f]={id:a[0].rows.item(f).id,value:JSON.parse(a[0].rows.item(f).value)};return v(e)})};function tf(a,b,c){var d=sf(a),e="UPDATE "+b+" SET value=? WHERE id=?";return a.hc(b).then(function(a){a.forEach(function(a){a=c(a);pf(d,e,[JSON.stringify(a.value),a.id])});return d.ka()})}
N.prototype.tc=function(a,b,c){var d=We(c);return tf(this,a,function(a){a.value[b]=d;return a})};N.prototype.addTableColumn=N.prototype.tc;N.prototype.xc=function(a,b){return tf(this,a,function(a){delete a.value[b];return a})};N.prototype.dropTableColumn=N.prototype.xc;N.prototype.Oc=function(a,b,c){return tf(this,a,function(a){a.value[c]=a.value[b];delete a.value[b];return a})};N.prototype.renameTableColumn=N.prototype.Oc;N.prototype.Ab=function(a){var b={},c;for(c in a)b[c]=We(a[c]);return ec(b)};
N.prototype.createRow=N.prototype.Ab;N.prototype.Fc=g("Ta");N.prototype.getVersion=N.prototype.Fc;function uf(a){pf(a,'SELECT tbl_name FROM sqlite_master WHERE type="table"',[],function(a){for(var c=Array(a.rows.length),d=0;d<c.length;++d)c[d]=a.rows.item(d).tbl_name;return c})}
N.prototype.dump=function(){var a=gb(),b=sf(this);uf(b);var c={};b.ka().then(function(b){b=b[0].filter(function(a){return"__lf_ver"!=a&&"__WebKitDatabaseInfoTable__"!=a}).map(function(a){return this.hc(a).then(function(b){c[a]=b})},this);fb(b).then(function(){a.resolve(c)})}.bind(this));return a.ha};N.prototype.dump=N.prototype.dump;function vf(a,b,c){this.c=a;this.g=b;this.Og=c||1}m=vf.prototype;m.Ea=function(a){if(null==window.openDatabase)throw new D(353);var b=a||function(){return v()};return new u(function(a,d){var e=window.openDatabase(this.g.name(),"",this.g.name(),this.Og);if(null!=e)this.i=e,wf(this,b).then(function(){this.re().then(a,d)}.bind(this),function(a){if(a instanceof D)throw a;throw new D(354,a.message);});else throw new D(354);},this)};
function wf(a,b){var c=gb(),d=new qf(a.i,1,new pd(a.c,A()));pf(d,"CREATE TABLE IF NOT EXISTS __lf_ver(id INTEGER PRIMARY KEY, v INTEGER)",[]);pf(d,"SELECT v FROM __lf_ver WHERE id = 0",[]);d.ka().then(function(a){var d=0;a[1].rows.length&&(d=a[1].rows.item(0).v);d<this.g.version()?this.ie(b,d).then(c.resolve.bind(c)):d>this.g.version()?c.reject(new D(108)):c.resolve()}.bind(a),c.reject.bind(c));return c.ha}m.Hb=function(a,b,c){if(null!=this.i)return new qf(this.i,a,c);throw new D(2);};m.close=aa();
m.Dc=function(){throw new D(512);};m.subscribe=function(){throw new D(355);};m.Jc=function(){throw new D(355);};m.ie=function(a,b){return xf(this).then(function(){return a(new N(this.c,b,this.i))}.bind(this))};
function xf(a){var b=a.g.pa(),c=new qf(a.i,1,new pd(a.c,A())),d=new qf(a.i,1,new pd(a.c,A()));pf(c,"INSERT OR REPLACE INTO __lf_ver VALUES (0, ?)",[a.g.version()]);uf(c);return c.ka().then(function(a){var c=a[1];c.filter(function(a){return-1!=a.indexOf("__d__")}).forEach(function(a){pf(d,"DROP TABLE "+('"'+a+'"'),[])});var h=[],k=[],n=[];b.map(function(a){-1==c.indexOf(a.getName())&&h.push(a.getName());a.Fb&&(a.Da().forEach(function(a){a=rf(a.j());h.push(a);k.push(a)}),a=rf(gf(a)),h.push(a),n.push(a))});
h.forEach(function(a){pf(d,"CREATE TABLE "+('"'+a+'"')+"(id INTEGER PRIMARY KEY, value TEXT)",[])});return d.ka()})}m.re=function(){var a=0,b=gb(),c=function(b){var c=new qf(this.i,0);pf(c,"SELECT MAX(id) FROM "+('"'+b+'"'),[]);return c.ka().then(function(b){b=b[0].rows.item(0)["MAX(id)"];a=Math.max(b,a)})}.bind(this),d=this.g.pa().map(function(a){return c(a.getName())});fb(d).then(function(){cc=a+1;b.resolve()},function(a){b.reject(a)});return b.ha};function yf(a){this.l=x();this.cc=x();a.pa().forEach(function(a){this.cc.set(a.getName(),A())},this)}m=yf.prototype;m.set=function(a,b){this.l.set(b.id(),b);this.cc.get(a).add(b.id())};m.Zb=function(a,b){var c=this.cc.get(a);b.forEach(function(a){this.l.set(a.id(),a);c.add(a.id())},this)};m.get=function(a){return this.l.get(a)||null};function zf(a,b){return b.map(function(a){return this.get(a)},a)}
m.Ua=function(a,b,c){var d=[],e=Math.min(b,c),f=Math.max(b,c);a=this.cc.get(a);if(a.size<f-e)a.forEach(function(a){a>=e&&a<=f&&(a=this.l.get(a),d.push(a))},this);else for(b=e;b<=f;++b)a.has(b)&&(c=this.l.get(b),d.push(c));return d};m.remove=function(a,b){this.l.delete(b);this.cc.get(a).delete(b)};m.Cc=function(a){return null!=a?this.cc.get(a).size:this.l.size};m.clear=function(){this.l.clear();this.cc.clear()};function Af(a,b,c){var d=0,e=a.length;for(c=c||Bf;d<e;){var f=d+e>>1;0>c(a[f],b)?d=f+1:e=f}return d==e&&a[d]==b?d:~d}function Bf(a,b){return a-b}function Cf(a,b,c){c=Af(a,b,c);return 0>c?(a.splice(-(c+1),0,b),!0):!1};function Df(a,b,c,d){a=b?a.reverse():a;if(null==c&&null==d)return a;c=Math.min(p(c)?c:a.length,a.length);if(0==c)return[];d=Math.min(d||0,a.length);return a.slice(d,d+c)};function Ef(){this.ia=0;this.Ic=null}Ef.prototype.add=function(a,b){this.ia+=b;this.Ic=null===this.Ic?a:a>this.Ic?a:this.Ic};Ef.prototype.remove=function(a,b){this.ia-=b};Ef.prototype.clear=function(){this.ia=0};function Ff(a,b){a.clear();b.forEach(function(a){this.ia+=a.ia},a)};function Gf(a,b,c,d){this.A=a;this.$=b;this.Af=c;this.za=new Ef;if(d){a=511;a*=a*a;if(d.length>=a)throw new D(6,a);d=Hf(this,d);this.ua=d=If(d)}else this.clear()}var Jf=[];m=Gf.prototype;m.getName=g("A");m.toString=function(){return this.ua.toString()};m.add=function(a,b){this.ua=this.ua.Db(a,b)};m.set=function(a,b){this.ua=this.ua.Db(a,b,!0)};m.remove=function(a,b){this.ua=this.ua.remove(a,b)};m.get=function(a){return this.ua.get(a)};
m.ad=function(a){if(null==a)return this.Y().ia;if(a instanceof E){if(vd(a))return this.Y().ia;if(zd(a))return this.get(a.from).length}return this.Ua([a]).length};m.Y=g("za");m.Wd=function(a,b,c,d){c=Array(a);this.ua.fill({offset:b?this.za.ia-a-d:d,count:a,ue:0},c);return b?c.reverse():c};
m.Ua=function(a,b,c,d){var e=Kf(this.ua).a[0];if(!p(e)||0==c)return Jf;b=b||!1;c=null!=c?Math.min(c,this.za.ia):this.za.ia;d=d||0;var f=Math.min(Math.max(this.za.ia-d,0),c);if(0==f)return Jf;if(!p(a)||1==a.length&&a[0]instanceof E&&vd(a[0]))return this.Wd(f,b,c,d);a=this.$.wf(a);var h=Array(b?this.za.ia:f),k={count:0,X:h.length,reverse:b,L:d},n=1<this.lb().ae();a.forEach(function(a){for(var b=this.$.wd(a),b=this.$.Zd(a)?e:b[0],b=this.ua.bg(b),c=0;null!=b&&k.count<k.X;){if(n){for(var d=b,f=a,fc=k,
Db=h,Vc=d.u.lb(),re=-1,Ma=0;Ma<d.a.length;++Ma)if(Vc.Eb(d.a[Ma],f)){re=Ma;break}if(-1!=re)for(Ma=re;Ma<d.a.length&&fc.count<fc.X;++Ma)Vc.Eb(d.a[Ma],f)&&Lf(d,fc,Db,Ma)}else b.Ua(a,k,h);0!=k.L||b.nd(a)?c=0:c++;b=2==c?null:b.next()}},this);h.length>k.count&&h.splice(k.count,h.length-k.count);return b?Df(h,b,c,d):h};m.clear=function(){this.ua=Mf(this);this.za.clear()};m.Oa=function(a){return this.ua.Oa(a)};m.min=function(){return this.Kb(this.$.min.bind(this.$))};m.max=function(){return this.Kb(this.$.max.bind(this.$))};
function Nf(a,b,c){if(!a.$.Qd(b.a[c]))if(1<b.a[c].length){if(null===b.a[c][0])return null}else return null;return[b.a[c],a.Af?[b.B[c]]:b.B[c]]}m.Kb=function(a){var b;a:{b=Kf(this.ua);var c=0;do if(c>=b.a.length)b=b.ya,c=0;else{var d=Nf(this,b,c);if(null!==d){b=d;break a}c++}while(null!==b);b=null}a:{c=Of(this.ua);d=c.a.length-1;do if(0>d)c=c.tb,d=0;else{var e=Nf(this,c,d);if(null!==e){c=e;break a}d--}while(null!==c);c=null}return null===b||null===c?null:1==a(b[0],c[0])?b:c};m.La=g("Af");m.lb=g("$");
m.Pa=function(a,b){return null!=a?0==this.$.compare(a,b):!1};m.Ja=function(){for(var a=[],b=Kf(this.ua);b;)a.push(new bc(b.sa,[b.a,b.B])),b=b.ya;return a};function Pf(a,b,c,d){a=new Gf(b,a,c);d=Qf(d,a);a.ua=d;return a}function Rf(a,b){this.sa=a;this.u=b;this.ob=0;this.ya=this.tb=this.F=null;this.a=[];this.B=[];this.h=[];this.bg=1==b.lb().ae()?this.Pe:this.Oe}function Mf(a){return new Rf(cc++,a)}function P(a){return 0==a.ob}m=Rf.prototype;m.next=g("ya");
function Sf(a){function b(a){return null!=a?a.sa.toString():"_"}var c=a.sa+"["+a.a.join("|")+"]",d=a.h.map(function(a){return a.sa}).join("|"),e=a.B.join("/"),f=b(a.tb)+"{",f=P(a)?f+e:f+d,f=f+"}"+b(a.F);a.ya&&(a=Sf(a.ya),c=c+"  "+a[0],f=f+"  "+a[1]);return[c,f]}m.toString=function(){var a="",b=Sf(this),a=a+(b[0]+"\n"+b[1]+"\n");this.h.length&&(a+=this.h[0].toString());return a};function Kf(a){return P(a)?a:Kf(a.h[0])}function Of(a){return P(a)?a:Of(a.h[a.h.length-1])}
function Tf(a,b){b&&(b.tb=a);a&&(a.ya=b)}function Hf(a,b){for(var c=b.length,d=0,e=Mf(a),f=e;0<c;){var h=768<=c?511:257<=c&&511>=c?c:257,k=b.slice(d,d+h);e.a=k.map(function(a){return a.key});e.B=k.map(function(a){return a.value});d+=h;c-=h;0<c&&(h=Mf(e.u),Tf(e,h),e=h)}return f}function Uf(a){var b=a[0],c=Mf(b.u);c.ob=b.ob+1;c.h=a;for(b=0;b<a.length;++b)a[b].F=c,0<b&&c.a.push(a[b].a[0]);return c}
function If(a){var b=a,c=[];do c.push(b),b=b.ya;while(b);if(512>=c.length)b=Uf(c);else{var d=c.length,e=0,b=Mf(a.u);for(b.ob=a.ob+2;0<d;){a=768<=d?511:257<=d&&511>=d?d:257;var f=c.slice(e,e+a),h=Uf(f);h.F=b;b.h.length&&(b.a.push(f[0].a[0]),Tf(b.h[b.h.length-1],h));b.h.push(h);e+=a;d-=a}}return b}m.get=function(a){var b=Vf(this,a);if(P(this)){var c=Jf;this.u.Pa(this.a[b],a)&&(c=c.concat(this.B[b]));return c}b=this.u.Pa(this.a[b],a)?b+1:b;return this.h[b].get(a)};
m.Oa=function(a){var b=Vf(this,a);return this.u.Pa(this.a[b],a)?!0:P(this)?!1:this.h[b].Oa(a)};m.remove=function(a,b){Wf(this,a,-1,b);if(null===this.F){var c=this;1==this.h.length&&(c=this.h[0],c.F=null);return c}return this};function Xf(a){return P(a)?a.a[0]:Xf(a.h[0])}function Yf(a){a.a=[];for(var b=1;b<a.h.length;++b)a.a.push(Xf(a.h[b]))}
function Wf(a,b,c,d){var e=Vf(a,b),f=P(a);if(!f){var h=a.u.Pa(a.a[e],b)?e+1:e;if(Wf(a.h[h],b,h,d))Yf(a);else return!1}else if(!a.u.Pa(a.a[e],b))return!1;if(a.a.length>e&&a.u.Pa(a.a[e],b)){if(p(d)&&!a.u.La()&&f&&(h=a.B[e],d=Af(h,d,void 0),0>d?d=!1:(h.splice(d,1),d=!0),d&&a.u.Y().remove(b,1),a.B[e].length))return!1;a.a.splice(e,1);f&&(f=a.u.La()?1:a.B[e].length,a.B.splice(e,1),a.u.Y().remove(b,f))}if(256>a.a.length&&null!==a.F){a:{b=null;if(a.ya&&256<a.ya.a.length)b=a.ya,e=d=0,f=a.a.length+1;else if(a.tb&&
256<a.tb.a.length)b=a.tb,d=a.tb.a.length-1,e=P(a)?d:d+1,f=0;else{b=!1;break a}a.a.splice(f,0,b.a[d]);b.a.splice(d,1);d=P(a)?a.B:a.h;h=null;P(a)?h=b.B:(h=b.h,h[e].F=a);d.splice(f,0,h[e]);h.splice(e,1);P(b)||(Yf(b),Yf(a));b=!0}b||Zf(a,c)}return!0}
function Zf(a,b){var c,d,e;a.ya&&511>a.ya.a.length?(c=a.ya,e=d=0):a.tb&&(c=a.tb,d=c.a.length,e=P(c)?c.B.length:c.h.length);d=[d,0].concat(a.a);Array.prototype.splice.apply(c.a,d);d=null;P(a)?d=a.B:(d=a.h,d.forEach(function(a){a.F=c}));d=[e,0].concat(d);Array.prototype.splice.apply(P(c)?c.B:c.h,d);Tf(a.tb,a.ya);P(c)||Yf(c);-1!=b&&(a.F.a.splice(b,1),a.F.h.splice(b,1))}
m.Db=function(a,b,c){var d=Vf(this,a);if(P(this)){if(this.u.Pa(this.a[d],a)){if(c)this.u.Y().remove(a,this.u.La()?1:this.B[d].length),this.B[d]=this.u.La()?b:[b];else{if(this.u.La())throw new D(201);if(!Cf(this.B[d],b))throw new D(109);}this.u.Y().add(a,1);return this}this.a.splice(d,0,a);this.B.splice(d,0,this.u.La()?b:[b]);this.u.Y().add(a,1);512==this.a.length?(d=Mf(this.u),a=Mf(this.u),a.ob=1,a.a=[this.a[256]],a.h=[this,d],a.F=this.F,this.F=a,d.a=this.a.splice(256),d.B=this.B.splice(256),d.F=
a,Tf(d,this.ya),Tf(this,d),d=a):d=this;return d}d=this.u.Pa(this.a[d],a)?d+1:d;a=this.h[d].Db(a,b,c);P(a)||1!=a.a.length||(this.a.splice(d,0,a.a[0]),a.h[1].F=this,a.h[0].F=this,this.h.splice(d,1,a.h[1]),this.h.splice(d,0,a.h[0]));return 512==this.a.length?$f(this):this};function $f(a){var b=Mf(a.u),c=Mf(a.u);b.F=a.F;b.ob=a.ob+1;b.a=[a.a[256]];b.h=[a,c];a.a.splice(256,1);c.F=b;c.ob=a.ob;c.a=a.a.splice(256);c.h=a.h.splice(257);c.h.forEach(function(a){a.F=c});a.F=b;Tf(c,a.ya);Tf(a,c);return b}
function Vf(a,b){for(var c=0,d=a.a.length,e=a.u.lb();c<d;){var f=c+d>>1;-1==e.compare(a.a[f],b)?c=f+1:d=f}return c}m.Pe=function(a){if(!P(this)){var b=Vf(this,a);this.u.Pa(this.a[b],a)&&b++;return this.h[b].Pe(a)}return this};m.Oe=function(a){if(!P(this)){var b=Vf(this,a);this.u.Pa(this.a[b],a)&&(a.some(function(a){return a==F})||b++);return this.h[b].Oe(a)}return this};
m.Ua=function(a,b,c){function d(a){return a[0]?a[1]?0:1:-1}var e=this.u.lb(),f=0,h=this.a.length-1,k=this.a,n=d(e.zb(k[f],a)),B=d(e.zb(k[h],a));if(1!=n&&(-1!=n||-1!=B)){var O=function(a,b){var c=a+b>>1;return c==a?c+1:c},ea=function(b,c,f){if(b>=c)return 0==f?c:-1;var h=d(e.zb(k[b],a));if(0==h)return b;if(1==h)return-1;h=O(b,c);if(h==c)return 0==f?c:-1;var n=d(e.zb(k[h],a));return 0==n?ea(b,h,n):-1==n?ea(h+1,c,f):ea(b+1,h,n)},Cb=function(b,c){if(b>=c)return b;var f=d(e.zb(k[c],a));if(0==f)return c;
if(-1==f)return b;f=O(b,c);if(f==c)return b;var h=d(e.zb(k[f],a));return 0==h?Cb(f,c):1==h?Cb(b,f-1):-1};0!=n&&(f=ea(f+1,h,B));-1!=f&&(h=Cb(f,h),-1!=h&&h>=f&&ag(this,b,c,f,h+1))}};function Lf(a,b,c,d){if(a.u.La())!b.reverse&&b.L?b.L--:c[b.count++]=a.B[d];else for(var e=0;e<a.B[d].length&&b.count<c.length;++e)!b.reverse&&b.L?b.L--:c[b.count++]=a.B[d][e]}function ag(a,b,c,d,e){for(;d<e&&(b.reverse||!(b.count>=b.X));++d)Lf(a,b,c,d)}
m.fill=function(a,b){if(P(this))for(var c=0;c<this.B.length&&0<a.count;++c)if(0<a.offset){if(a.offset-=this.u.La()?1:this.B[c].length,0>a.offset)for(var d=this.B[c].length+a.offset;d<this.B[c].length&&0<a.count;++d)b[a.ue++]=this.B[c][d],a.count--}else if(this.u.La())b[a.ue++]=this.B[c],a.count--;else for(d=0;d<this.B[c].length&&0<a.count;++d)b[a.ue++]=this.B[c][d],a.count--;else for(c=0;c<this.h.length&&0<a.count;++c)this.h[c].fill(a,b)};
function Qf(a,b){for(var c=b.Y(),d=a.map(function(a){var d=new Rf(a.id(),b);d.a=a.m[0];d.B=a.m[1];d.a.forEach(function(a,e){c.add(a,b.La()?1:d.B[e].length)});return d}),e=0;e<d.length-1;++e)Tf(d[e],d[e+1]);return 1<d.length?If(d[0]):d[0]}m.nd=function(a){return this.u.lb().nd(this.a[0],a)};function bg(a){this.$c=0==a?cg:dg;this.de=0==a?function(a){return null!=a?a.reverse():null}:function(a){return a||null};this.je=0==a?eg:fg}function dg(a,b){return a>b?1:a<b?-1:0}function cg(a,b){return dg(b,a)}function fg(a,b){return Ad(a,b)}function eg(a,b){return Ad(b,a)}m=bg.prototype;m.zb=function(a,b){var c=this.de(b),d=[c.from==F,c.o==F];if(!d[0]){var e=this.$c(a,c.from);d[0]=c.ea?1==e:-1!=e}d[1]||(e=this.$c(a,c.o),d[1]=c.oa?-1==e:1!=e);return d};m.compare=function(a,b){return this.$c(a,b)};
m.min=function(a,b){return a<b?1:a==b?0:-1};m.max=function(a,b){return a>b?1:a==b?0:-1};m.Eb=function(a,b){var c=this.zb(a,b);return c[0]&&c[1]};m.nd=function(a,b){return this.Eb(a,b)};m.wf=function(a){return a.filter(function(a){return null!==a}).sort(function(a,c){return this.je(a,c)}.bind(this))};m.Zd=function(a){return this.de(a).from==F};m.wd=function(a){a=this.de(a);return[a.from,a.o]};m.Qd=function(a){return null!==a};m.ae=l(1);
m.toString=function(){return this.compare==cg?"SimpleComparator_DESC":"SimpleComparator_ASC"};function hg(a){bg.call(this,a);this.$c=0==a?ig:jg}r(hg,bg);function jg(a,b){return null===a?null===b?0:-1:null===b?1:dg(a,b)}function ig(a,b){return jg(b,a)}hg.prototype.Eb=function(a,b){return null===a?vd(b):hg.hb.Eb.call(this,a,b)};hg.prototype.Kb=function(a,b){return null===a?null===b?0:-1:null===b?1:null};hg.prototype.min=function(a,b){var c=this.Kb(a,b);null===c&&(c=hg.hb.min.call(this,a,b));return c};
hg.prototype.max=function(a,b){var c=this.Kb(a,b);null===c&&(c=hg.hb.max.call(this,a,b));return c};function kg(a){this.qa=a.map(function(a){return new bg(a)})}function lg(a,b,c,d){for(var e=0,f=0;f<a.qa.length&&0==e;++f)e=d(a.qa[f],b[f],c[f]);return e}m=kg.prototype;m.compare=function(a,b){return lg(this,a,b,function(a,b,e){return b==F||e==F?0:a.compare(b,e)})};m.min=function(a,b){return lg(this,a,b,function(a,b,e){return a.min(b,e)})};m.max=function(a,b){return lg(this,a,b,function(a,b,e){return a.max(b,e)})};
m.zb=function(a,b){for(var c=[!0,!0],d=0;d<this.qa.length&&(c[0]||c[1]);++d){var e=this.qa[d].zb(a[d],b[d]);c[0]=c[0]&&e[0];c[1]=c[1]&&e[1]}return c};m.Eb=function(a,b){for(var c=!0,d=0;d<this.qa.length&&c;++d)c=this.qa[d].Eb(a[d],b[d]);return c};m.nd=function(a,b){return this.qa[0].Eb(a[0],b[0])};
m.wf=function(a){var b=a.filter(function(a){return a.every(ha)});a=Array(this.qa.length);for(var c=0;c<a.length;c++)a[c]=b.map(function(a){return a[c]});a.forEach(function(a,b){a.sort(function(a,c){return this.qa[b].je(a,c)}.bind(this))},this);b=Array(b.length);for(c=0;c<b.length;c++)b[c]=a.map(function(a){return a[c]});return b.sort(function(a,b){for(var c=0,h=0;h<this.qa.length&&0==c;++h)c=this.qa[h].je(a[h],b[h]);return c}.bind(this))};m.Zd=function(a){return this.qa[0].Zd(a[0])};
m.wd=function(a){var b=a.map(function(a,b){return this.qa[b].wd(a)[0]},this);a=a.map(function(a,b){return this.qa[b].wd(a)[1]},this);return[b,a]};m.Qd=function(a){return a.every(function(a,c){return this.qa[c].Qd(a)},this)};m.ae=function(){return this.qa.length};function mg(a){kg.call(this,a);this.qa=a.map(function(a){return new hg(a)})}r(mg,kg);function ng(a){if(1==a.f.length)return new bg(a.f[0].sb);var b=a.f.map(function(a){return a.sb});return a.f.some(function(a){return a.ba.kc()})?new mg(b):new kg(b)};function og(a){this.fa=a;this.qb=A();this.Rc=new Ef;this.za=new Ef}m=og.prototype;m.getName=function(){return this.fa.getName()};m.add=function(a,b){null===a?(this.qb.add(b),this.Rc.add(a,1)):this.fa.add(a,b)};m.set=function(a,b){null===a?(this.qb.clear(),this.Rc.clear(),this.add(a,b)):this.fa.set(a,b)};m.remove=function(a,b){null===a?b?(this.qb.delete(b),this.Rc.remove(a,1)):(this.qb.clear(),this.Rc.clear()):this.fa.remove(a,b)};m.get=function(a){return null===a?C(this.qb):this.fa.get(a)};m.ad=function(a){return this.fa.ad(a)};
m.Y=function(){Ff(this.za,[this.fa.Y(),this.Rc]);return this.za};m.Ua=function(a,b,c,d){b=this.fa.Ua(a,b,c,d);return null!=a?b:b.concat(C(this.qb))};m.clear=function(){this.qb.clear();this.fa.clear()};m.Oa=function(a){return null===a?0!=this.qb.size:this.fa.Oa(a)};m.min=function(){return this.fa.min()};m.max=function(){return this.fa.max()};m.Ja=function(){return[new bc(-2,C(this.qb))].concat(this.fa.Ja())};m.lb=function(){return this.fa.lb()};
function pg(a,b){for(var c=-1,d=0;d<b.length;++d)if(-2==b[d].id()){c=d;break}if(-1==c)throw new D(102);var d=b[c].m,e=b.slice(0);e.splice(c,1);var c=a(e),f=new og(c);d.forEach(function(a){f.qb.add(a)});return f}m.La=function(){return this.fa.La()};function qg(a){this.A=a;this.vb=A();this.$=new bg(1)}m=qg.prototype;m.getName=g("A");m.add=function(a){if("number"!=typeof a)throw new D(103);this.vb.add(a)};m.set=function(a,b){this.add(a,b)};m.remove=function(a){this.vb.delete(a)};m.get=function(a){return this.Oa(a)?[a]:[]};m.min=function(){return this.Kb(this.$.min.bind(this.$))};m.max=function(){return this.Kb(this.$.max.bind(this.$))};
m.Kb=function(a){if(0==this.vb.size)return null;var b=C(this.vb).reduce(function(b,d){return null===b||1==a(d,b)?d:b},null);return[b,[b]]};m.ad=function(){return this.vb.size};m.Ua=function(a,b,c,d){var e=a||[yd()];a=C(this.vb).filter(function(a){return e.some(function(b){return this.$.Eb(a,b)},this)},this);return Df(a,b,c,d)};m.clear=function(){this.vb.clear()};m.Oa=function(a){return this.vb.has(a)};m.Ja=function(){return[new bc(0,C(this.vb))]};m.lb=g("$");
function rg(a,b){var c=new qg(a);b[0].m.forEach(function(a){c.add(a,a)});return c}m.La=l(!0);m.Y=function(){var a=new Ef;a.ia=this.vb.size;return a};function sg(a){this.Na=a.b(qc);this.D=a.b(sc);this.V=a.b(rc)}sg.prototype.Ea=function(a){var b=a.pa(),c=function(){if(0==b.length)return v();var a=b.shift();return(a.Fb()?tg(this,a):ug(this,a)).then(c)}.bind(this);return c()};function ug(a,b){var c=a.Na.Hb(0,[b]),d=c.H(b.getName(),b.mb.bind(b),0).get([]).then(function(a){this.V.Zb(b.getName(),a);vg(this,b,a)}.bind(a));c.ka();return d}
function vg(a,b,c){var d=a.D.oc.get(b.getName())||[];c.forEach(function(a){d.forEach(function(b){var c=a.pb(b.getName());b.add(c,a.id())})})}function tg(a,b){var c=a.Na.Hb(0,[b]),d=c.H(b.getName(),b.mb,0).get([]).then(function(a){this.V.Zb(b.getName(),a)}.bind(a)),e=b.Da().map(function(a){return wg(this,a,c)},a).concat(xg(a,b,c));c.ka();return fb(e.concat(d))}
function wg(a,b,c){c=c.H(b.j(),dc,1);var d=ng(b);return c.get([]).then(function(a){if(0<a.length){if(yg(b)){var c=Pf.bind(void 0,d,b.j(),b.Gc);a=pg(c,a)}else a=Pf(d,b.j(),b.Gc,a);this.D.set(b.pc,a)}}.bind(a))}function xg(a,b,c){return c.H(gf(b),dc,1).get([]).then(function(a){0<a.length&&(a=rg(gf(b),a),this.D.set(b.getName(),a))}.bind(a))};function zg(){this.Z=x();this.oc=x()}zg.prototype.Ea=function(a){a.pa().forEach(function(a){var c=[];this.oc.set(a.getName(),c);var d=gf(a);if(null===this.get(d)){var e=new qg(d);c.push(e);this.Z.set(d,e)}a.Da().forEach(function(a){var b;b=ng(a);b=new Gf(a.j(),b,a.Gc);b=yg(a)&&1==a.f.length?new og(b):b;c.push(b);this.Z.set(a.j(),b)},this)},this);return v()};zg.prototype.get=function(a){return this.Z.get(a)||null};
zg.prototype.set=function(a,b){var c=this.oc.get(a)||null;null===c&&(c=[],this.oc.set(a,c));for(var d=null,e=0;e<c.length;e++)if(c[e].getName()==b.getName()){d=e;break}null!==d&&0<c.length?c.splice(d,1,b):c.push(b);this.Z.set(b.getName(),b)};function Ag(a,b){var c=[],d=null,e=null;he(a,function(a){var h=b(a);null==a.getParent()?e=h:K(d,h);var k=a.getParent();null!==k&&J(k).length==J(d).length&&(k=c.indexOf(d),-1!=k&&c.splice(k,1));1<J(a).length&&c.push(h);d=null===a.h?c[c.length-1]:h});return e}function Bg(a){return Cg(a,function(a){return null===a.h})}
function Dg(a){var b=a.getParent(),c=0;null!==b&&(c=J(b).indexOf(a),b.removeChild(a));var d=J(a).slice();d.forEach(function(d,f){a.removeChild(d);null===b||ee(b,d,c+f)});return{parent:b,children:d}}function Eg(a,b){J(a).slice().forEach(function(c){a.removeChild(c);K(b,c)});K(a,b)}function Fg(a){var b=de(a,0);Dg(a);Eg(b,a);return b}
function Gg(a,b,c){var d=de(a,0),e=J(d).slice();if(!e.some(function(a){return b(a)}))return a;Dg(a);e.forEach(function(e,h){if(b(e)){var k=c(a);fe(d,h);K(k,e);ee(d,k,h)}});return d}function Hg(a,b,c,d){var e=a.getParent();null!==e&&(a=J(e).indexOf(a),fe(e,a),ee(e,c,a));J(b).slice().forEach(function(a){b.removeChild(a);K(d,a)});return c}function Cg(a,b,c){function d(a){b(a)&&e.push(a);null!=c&&c(a)||J(a).forEach(d)}var e=[];d(a);return e}
function Ig(a,b){var c=b||function(a){return a.toString()+"\n"},d="";he(a,function(a){for(var b=0;b<ce(a);b++)d+="-";d+=c(a)});return d};function Jg(a){ie.call(this);this.rb=a;this.Va=!1}r(Jg,ie);m=Jg.prototype;m.Pb=function(){return Ag(this,function(a){if(a instanceof Jg){var b=new Jg(a.rb);b.Va=a.Va;a=a.W();b.sa=a;return b}return a.Pb()})};m.nb=function(a){var b=a||[];he(this,function(a){a!=this&&a.nb(b)}.bind(this));a=A(b);return C(a)};m.s=function(a){var b=null!=a?a:A();he(this,function(a){a!=this&&a.s(b)}.bind(this));return b};m.xd=function(a){this.Va!=a&&(this.Va=a,this.rb="and"==this.rb?"or":"and",J(this).forEach(function(b){return b.xd(a)}))};
m.eval=function(a){var b=J(this).map(function(b){return b.eval(a)});return Kg(this,b)};function Kg(a,b){return"and"==a.rb?Jd(b):Kd(b)}m.toString=function(){return"combined_pred_"+this.rb.toString()};m.xe=function(){if("or"==this.rb){var a=new Cd;J(this).forEach(function(b){b=b.xe().ra();a.add(b)});return a}return new Cd};m.od=function(){return"or"==this.rb?Lg(this):!1};
function Lg(a){var b=null;return J(a).every(function(a){if(!(a instanceof ke&&a.od()))return!1;null===b&&(b=a.J);return b.j()==a.J.j()})};function Mg(a,b,c){ie.call(this);this.ga=a;this.na=b;this.C=c;this.ee=null;a=$d();this.yc=ae(a,this.ga.I(),this.C);this.pg=a.Ze.get(this.ga.I())||null}r(Mg,ie);m=Mg.prototype;m.Pb=function(){var a=new Mg(this.ga,this.na,this.C),b=this.W();a.sa=b;return a};m.nb=function(a){return null!=a?(a.push(this.ga),a.push(this.na),a):[this.ga,this.na]};m.s=function(a){a=null!=a?a:A();a.add(this.ga.H());a.add(this.na.H());return a};
m.reverse=function(){var a=this.C;switch(this.C){case "gt":a="lt";break;case "lt":a="gt";break;case "gte":a="lte";break;case "lte":a="gte"}return new Mg(this.na,this.ga,a)};m.eval=function(a){var b=a.entries.filter(function(a){var b=H(a,this.ga);a=H(a,this.na);return this.yc(b,a)},this);return new G(b,a.s())};m.toString=function(){return"join_pred("+this.ga.j()+" "+this.C+" "+this.na.j()+")"};
function Ng(a,b,c){var d=null,e=null;-1!=b.s().indexOf(Od(a.ga.H()))?(d=b,e=c):(d=c,e=b);if(d.entries.length>e.entries.length){a:{b=a.ga;a.ga=a.na;a.na=b;b=a.C;switch(a.C){case "gt":b="lt";break;case "lt":b="gt";break;case "gte":b="lte";break;case "lte":b="gte";break;default:break a}a.C=b;a.yc=ae($d(),a.ga.I(),a.C)}return[e,d]}return[d,e]}function Og(a){var b={};a.nb().forEach(function(a){b[a.getName()]=null});return b}
function Pg(a,b,c){null===a.ee&&(a.ee=Og(a.na.H()));var d=new Md(new bc(-1,a.ee),!1);return Qd(b,c,d,[Od(a.na.H())])}
function Qg(a,b,c,d){var e=[b,c];d||(e=Ng(a,b,c));b=e[0];c=e[1];var e=b,f=c,h=a.ga,k=a.na;d&&(e=c,f=b,h=a.na,k=a.ga);var n=new Yc,B=[];e.entries.forEach(function(a){var b=String(H(a,h));n.set(b,a)});var O=e.s(),ea=f.s();f.entries.forEach(function(a){var b=H(a,k),c=String(b);null!==b&&n.has(c)?n.get(c).forEach(function(b){b=Qd(a,ea,b,O);B.push(b)}):d&&B.push(Pg(this,a,ea))}.bind(a));a=b.s().concat(c.s());return new G(B,a)}
function Rg(a,b,c,d,e){function f(a,b){var c=new Md(b,1<O.length),c=Qd(a,ea,c,O);B.push(c)}var h=d.fg.H(),k=b,n=c;-1!=b.s().indexOf(Od(h))&&(k=c,n=b);var B=[],O=n.s(),ea=k.s();k.entries.forEach(function(a){var b=this.pg(H(a,d.yg)),b=d.index.get(b);0!=b.length&&(d.index.La()?f(a,e.get(b[0])):zf(e,b).forEach(f.bind(null,a)))},a);a=k.s().concat(n.s());return new G(B,a)};function Sg(a,b,c){return null===b?new ke(a,b,c):p(b.j)?new Mg(a,b,c):new ke(a,b,c)};var Tg={};q("lf.schema.DataStoreType",Tg);Tg.INDEXED_DB=0;Tg.MEMORY=1;Tg.LOCAL_STORAGE=2;Tg.FIREBASE=3;Tg.WEB_SQL=4;Tg.OBSERVABLE_STORE=5;function Ug(a,b,c,d){this.pc=a;this.name=b;this.Gc=c;this.f=d}Ug.prototype.j=function(){return this.pc+"."+this.name};function yg(a){return a.f.some(function(a){return a.ba.kc()})}function Q(a,b,c,d){this.A=a;this.ta=c;this.K=b;this.ud=d;this.jb=null}q("lf.schema.Table",Q);Q.prototype.getName=g("A");Q.prototype.getName=Q.prototype.getName;Q.prototype.$a=g("jb");
function Od(a){return a.jb||a.A}Q.prototype.uc=function(a){var b=new this.constructor(this.A);b.jb=a;b.Kg=this.Kg;return b};Q.prototype.as=Q.prototype.uc;Q.prototype.createRow=Q.prototype.Ab;Q.prototype.deserializeRow=Q.prototype.mb;Q.prototype.Da=g("ta");Q.prototype.getIndices=Q.prototype.Da;Q.prototype.nb=g("K");Q.prototype.getColumns=Q.prototype.nb;Q.prototype.getConstraint=Q.prototype.Jb;Q.prototype.Fb=g("ud");Q.prototype.persistentIndex=Q.prototype.Fb;function gf(a){return a.A+".#"};function R(a,b){this.child=a;this.Ob=b;this.jb=null}m=R.prototype;m.getName=function(){return this.Ob+"("+this.child.getName()+")"};m.j=function(){return this.Ob+"("+this.child.j()+")"};m.H=function(){return this.child.H()};m.toString=function(){return this.j()};m.I=function(){return this.child.I()};m.$a=g("jb");m.Da=function(){return[]};m.Ca=l(null);m.kc=l(!1);m.uc=function(a){this.jb=a;return this};R.prototype.as=R.prototype.uc;
function Vg(a){for(var b=[a];a instanceof R;)b.push(a.child),a=a.child;return b}function Wg(a){this.jb=a||null;this.U=new Q("#UnknownTable",[],[],!1)}m=Wg.prototype;m.getName=l("*");m.j=function(){return this.getName()};m.toString=function(){return this.j()};m.H=g("U");m.I=l(4);m.$a=g("jb");m.Da=function(){return[]};m.Ca=l(null);m.kc=l(!1);q("lf.fn.avg",function(a){return new R(a,"AVG")});function Xg(a){return new R(a||new Wg,"COUNT")}q("lf.fn.count",Xg);function Yg(a){return new R(a,"DISTINCT")}q("lf.fn.distinct",Yg);q("lf.fn.max",function(a){return new R(a,"MAX")});q("lf.fn.min",function(a){return new R(a,"MIN")});q("lf.fn.stddev",function(a){return new R(a,"STDDEV")});q("lf.fn.sum",function(a){return new R(a,"SUM")});q("lf.fn.geomean",function(a){return new R(a,"GEOMEAN")});function S(a,b){I.call(this);this.Xf=b}r(S,I);S.prototype.exec=function(a,b){switch(this.Xf){case 1:return Zg(this,a,b);case 0:return $g(this,a,b);default:return ah(this,a,b)}};S.prototype.toString=l("dummy_node");S.prototype.Sc=function(){return this.toString()};function ah(a,b,c){return new u(function(a){a(this.ca([],b,c))}.bind(a))}function Zg(a,b,c){return de(a,0).exec(b,c).then(function(a){return this.ca(a,b,c)}.bind(a))}
function $g(a,b,c){var d=J(a).map(function(a){return a.exec(b,c)});return fb(d).then(function(a){var d=[];a.forEach(function(a){for(var b=0;b<a.length;++b)d.push(a[b])});return this.ca(d,b,c)}.bind(a))};function bh(a){S.call(this,0,1);this.De=a}r(bh,S);bh.prototype.toString=function(){return"aggregation("+this.De.map(function(a){return a.j()}).toString()+")"};bh.prototype.ca=function(a){a.forEach(function(a){ch(new dh(a,this.De))},this);return a};function dh(a,b){this.Ma=a;this.K=b}
function ch(a){a.K.forEach(function(a){a=Vg(a).reverse();for(var c=1;c<a.length;c++){var d=a[c],e=Vg(d).slice(-1)[0],f=d.child instanceof R?Gd(this.Ma,d.child):this.Ma;if(null!==f.Za&&f.Za.has(d.j()))break;f=eh(d.Ob,f,e);e=this.Ma;null===e.Za&&(e.Za=x());e.Za.set(d.j(),f)}},a)}
function eh(a,b,c){var d=null;switch(a){case "MIN":d=fh(b,c,function(a,b){return b<a?b:a});break;case "MAX":d=fh(b,c,function(a,b){return b>a?b:a});break;case "DISTINCT":d=gh(b,c);break;case "COUNT":d=hh(b,c);break;case "SUM":d=ih(b,c);break;case "AVG":a=hh(b,c);0<a&&(d=ih(b,c)/a);break;case "GEOMEAN":d=jh(b,c);break;default:d=kh(b,c)}return d}function fh(a,b,c){return a.entries.reduce(function(a,e){var f=H(e,b);return null===f?a:null===a?f:c(a,f)},null)}
function hh(a,b){return b instanceof Wg?a.entries.length:a.entries.reduce(function(a,d){return a+(ga(H(d,b))?0:1)},0)}function ih(a,b){return fh(a,b,function(a,b){return b+a})}function kh(a,b){var c=[];a.entries.forEach(function(a){a=H(a,b);null===a||c.push(a)});return 0==c.length?null:vb.apply(null,c)}function jh(a,b){var c=0,d=a.entries.reduce(function(a,d){var h=H(d,b);if(0==h||null===h)return a;c++;return a+Math.log(h)},0);return 0==c?null:Math.pow(Math.E,d/c)}
function gh(a,b){var c=x();a.entries.forEach(function(a){var e=H(a,b);c.set(e,a)});return new G(y(c),a.s())};function lh(a,b){this.Ha=a;this.aa=b}lh.prototype.ab=g("Ha");lh.prototype.da=g("aa");function mh(){I.call(this)}r(mh,I);function nh(a,b){I.call(this);this.table=a;this.values=b}r(nh,mh);function oh(a,b){nh.call(this,a,b)}r(oh,nh);function ph(a){I.call(this);this.table=a}r(ph,mh);ph.prototype.toString=function(){return"delete("+this.table.getName()+")"};function qh(a){I.call(this);this.table=a}r(qh,mh);qh.prototype.toString=function(){return"update("+this.table.getName()+")"};
function rh(a){I.call(this);this.O=a}r(rh,mh);rh.prototype.toString=function(){return"select("+this.O.toString()+")"};function sh(a){I.call(this);this.table=a}r(sh,mh);sh.prototype.toString=function(){var a="table_access("+this.table.getName();null===this.table.$a()||(a+=" as "+this.table.$a());return a+")"};function th(){I.call(this)}r(th,mh);th.prototype.toString=l("cross_product");function uh(a,b){I.call(this);this.f=a;this.Sb=b}r(uh,mh);
uh.prototype.toString=function(){var a="project("+this.f.toString();if(null!==this.Sb)var b=this.Sb.map(function(a){return a.j()}).join(", "),a=a+(", groupBy("+b+")");return a+")"};function vh(a){I.call(this);this.N=a}r(vh,mh);vh.prototype.toString=function(){return"order_by("+ve(this.N)+")"};function wh(a){I.call(this);this.f=a}r(wh,mh);wh.prototype.toString=function(){return"aggregation("+this.f.toString()+")"};function xh(a){I.call(this);this.f=a}r(xh,mh);
xh.prototype.toString=function(){return"group_by("+this.f.toString()+")"};function yh(a){I.call(this);this.X=a}r(yh,mh);yh.prototype.toString=function(){return"limit("+this.X+")"};function zh(a){I.call(this);this.L=a}r(zh,mh);zh.prototype.toString=function(){return"skip("+this.L+")"};function Ah(a,b){I.call(this);this.O=a;this.Ub=b}r(Ah,mh);Ah.prototype.toString=function(){return"join(type: "+(this.Ub?"outer":"inner")+", "+this.O.toString()+")"};function Bh(){};function Ch(){}r(Ch,Bh);Ch.prototype.gb=function(a){this.G=a;this.xb(this.G);return this.G};Ch.prototype.xb=function(a){if(a instanceof rh){var b=Dh(this,a.O),b=Eh(this,b);Hg(a,a,b[0],b[1]);a==this.G&&(this.G=b[0]);a=b[0]}J(a).forEach(function(a){this.xb(a)},this)};function Dh(a,b){if(0==J(b).length||"and"!=b.rb)return[b];var c=J(b).slice().map(function(a){b.removeChild(a);return Dh(this,a)},a);return Fa(c)}
function Eh(a,b){var c=null,d=null;b.map(function(a,b){var h=new rh(a);0==b?c=h:K(d,h);d=h},a);return[c,d]};function Fh(){}r(Fh,Bh);Fh.prototype.gb=function(a,b){if(3>b.from.length)return a;this.G=a;this.xb(this.G);return this.G};Fh.prototype.xb=function(a){if(a instanceof th)for(;2<J(a).length;){for(var b=new th,c=0;2>c;c++){var d=fe(a,0);K(b,d)}ee(a,b,0)}J(a).forEach(function(a){this.xb(a)},this)};function Gh(){S.call(this,0,0)}r(Gh,S);Gh.prototype.toString=l("cross_product");Gh.prototype.ca=function(a){var b=a[0],c=a[1];a=[];for(var d=b.s(),e=c.s(),f=0;f<b.entries.length;f++)for(var h=0;h<c.entries.length;h++){var k=Qd(b.entries[f],d,c.entries[h],e);a.push(k)}b=b.s().concat(c.s());return[new G(a,b)]};function Hh(a,b){ye.call(this,a,b);this.Ia=a.b(uc);this.Lb=a.b(vc)}r(Hh,ye);Hh.prototype.getPriority=l(2);Hh.prototype.he=function(a){0==this.I()?Ih(this,a):this.Pc()};function Ih(a,b){a.vd.forEach(function(a,d){a instanceof ue&&Be(this.Lb,a,b[d])},a)}Hh.prototype.Pc=function(){var a=De(this.Lb,this.da());0!=a.length&&(a=new Ae(this.global,a),Ee(this.Ia,a))};function Jh(a){oe.call(this,a)}r(Jh,oe);Jh.prototype.da=function(){var a=A();a.add(this.from);Kh(this,this.from.getName(),a);return a};function Kh(a,b,c){var d=Lh(a.ba.info(),b,1);Lh(a.ba.info(),b).forEach(c.add.bind(c));d.forEach(function(a){Kh(this,a.getName(),c)},a)}Jh.prototype.clone=function(){var a=new Jh(this.ba);se(a,this);a.from=this.from;return a};Jh.prototype.bind=function(a){Jh.hb.bind.call(this,a);te(this,a);return this};function Mh(a){oe.call(this,a)}r(Mh,oe);Mh.prototype.da=function(){var a=A();a.add(this.Ka);var b=this.ba.info();Nh(this.Ka.getName(),b.gf).forEach(a.add.bind(a));this.dc&&Lh(b,this.Ka.getName()).forEach(a.add.bind(a));return a};Mh.prototype.clone=function(){var a=new Mh(this.ba);se(a,this);a.Ka=this.Ka;this.values&&(a.values=this.values instanceof Rd?this.values:this.values.slice());a.dc=this.dc;a.ec=this.ec;return a};
Mh.prototype.bind=function(a){Mh.hb.bind.call(this,a);this.ec&&(this.values=this.ec instanceof Rd?a[this.ec.Ca()]:this.ec.map(function(b){return b instanceof Rd?a[b.Ca()]:b}));return this};function Oh(a){oe.call(this,a)}r(Oh,oe);Oh.prototype.da=function(){var a=A();a.add(this.table);var b=this.set.map(function(a){return a.J.j()}),c=this.ba.info();Ph(c,b).forEach(a.add.bind(a));Qh(c,b).forEach(a.add.bind(a));return a};Oh.prototype.clone=function(){var a=new Oh(this.ba);se(a,this);a.table=this.table;a.set=this.set?Rh(this.set):this.set;return a};Oh.prototype.bind=function(a){Oh.hb.bind.call(this,a);this.set.forEach(function(b){-1!=b.Wc&&(b.value=a[b.Wc])});te(this,a);return this};
function Rh(a){return a.map(function(a){var c={},d;for(d in a)c[d]=a[d];return c})};function Sh(a,b){if(null==b)return"NULL";switch(a){case 1:return b?1:0;case 3:case 4:return b;case 0:return"'"+gc(b)+"'";default:return"'"+b.toString()+"'"}}function Th(a,b){var c=a.dc?"INSERT OR REPLACE":"INSERT",d=a.Ka.nb(),c=c+(" INTO "+a.Ka.getName()+"("),c=c+d.map(function(a){return a.getName()}).join(", "),c=c+") VALUES (";return a.values.map(function(a){var f=d.map(function(c){var d=a.m[c.getName()];return b?null!=d?"#":"NULL":Sh(c.I(),d)});return c+f.join(", ")+");"}).join("\n")}
function Uh(a){switch(a){case "between":return"BETWEEN";case "eq":return"=";case "gte":return">=";case "gt":return">";case "in":return"IN";case "lte":return"<=";case "lt":return"<";case "match":return"LIKE";case "neq":return"<>";default:return"UNKNOWN"}}function Vh(a,b,c,d){return a instanceof Rd?"?"+a.Ca().toString():d?null!=a?"#":"NULL":"match"==b?"'"+a.toString()+"'":"in"==b?"("+a.map(function(a){return Sh(c,a)}).join(", ")+")":"between"==b?Sh(c,a[0])+" AND "+Sh(c,a[1]):Sh(c,a).toString()}
function Wh(a,b){return J(a).map(function(a){return"("+Xh(a,b)+")"}).join("and"==a.rb?" AND ":" OR ")}function Yh(a){return[a.ga.j(),Uh(a.C),a.na.j()].join(" ")}function Xh(a,b){if(a instanceof ke){var c=a.J.j(),d=Uh(a.C),e=Vh(a.value,a.C,a.J.I(),b);return"="==d&&"NULL"==e?[c,"IS NULL"].join(" "):"<>"==d&&"NULL"==e?[c,"IS NOT NULL"].join(" "):[c,d,e].join(" ")}if(a instanceof Jg)return Wh(a,b);if(a instanceof Mg)return Yh(a);throw new D(357,typeof a);}
function Zh(a,b){var c=Xh(a,b);return c?" WHERE "+c:""}function $h(a,b){var c="UPDATE "+a.table.getName()+" SET ",c=c+a.set.map(function(a){var b=a.J.j()+" = ";return-1!=a.Wc?b+"?"+a.Wc.toString():b+Sh(a.J.I(),a.value).toString()}).join(", ");a.w&&(c+=Zh(a.w,b));return c+";"}
function ai(a,b){var c="*";a.f.length&&(c=a.f.map(function(a){return a.$a()?a.j()+" AS "+a.$a():a.j()}).join(", "));c="SELECT "+c+" FROM ";null!=a.cb&&0!=a.cb.size?c+=bi(a,b):(c+=a.from.map(ci).join(", "),a.w&&(c+=Zh(a.w,b)));if(a.N)var d=a.N.map(function(a){return a.J.j()+(0==a.sb?" DESC":" ASC")}).join(", "),c=c+(" ORDER BY "+d);a.la&&(d=a.la.map(function(a){return a.j()}).join(", "),c+=" GROUP BY "+d);a.X&&(c+=" LIMIT "+a.X.toString());a.L&&(c+=" SKIP "+a.L.toString());return c+";"}
function ci(a){return Od(a)!=a.getName()?a.getName()+" AS "+Od(a):a.getName()}function bi(a,b){for(var c=Cg(a.w,function(a){return a instanceof Mg}),d=c.map(Yh),e=ci(a.from[0]),f=1;f<a.from.length;f++)var h=ci(a.from[f]),e=a.cb.has(c[d.length-f].W())?e+(" LEFT OUTER JOIN "+h):e+(" INNER JOIN "+h),e=e+(" ON ("+d[d.length-f]+")");c=de(a.w,0);c instanceof Mg||(e+=" WHERE "+Xh(c,b));return e}
function di(a,b){var c=b||!1,d=a.query.clone();if(d instanceof Mh)return Th(d,c);if(d instanceof Jh){var e="DELETE FROM "+d.from.getName();d.w&&(e+=Zh(d.w,c));return e+";"}if(d instanceof Oh)return $h(d,c);if(d instanceof ue)return ai(d,c);throw new D(358,typeof d);};function T(a,b){this.global=a;this.Jg=a.b(tc);this.Ia=a.b(uc);this.query=b}q("lf.query.BaseBuilder",T);T.prototype.exec=function(){try{this.kb()}catch(a){return cb(a)}return new u(function(a,b){var c=new Hh(this.global,[this.Ec()]);Ee(this.Ia,c).then(function(b){a(Ed(b[0]))},b)},this)};T.prototype.exec=T.prototype.exec;T.prototype.Zf=function(){var a=function(a){return a.Sc(this.query)+"\n"}.bind(this);return Ig(ei(this).ab(),a)};T.prototype.explain=T.prototype.Zf;
T.prototype.bind=function(a){this.query.bind(a);return this};T.prototype.bind=T.prototype.bind;T.prototype.Rg=function(a){return di(this,a)};T.prototype.toSql=T.prototype.Rg;T.prototype.kb=aa();function ei(a){if(null==a.hf){var b;b=a.Jg;var c=a.query,d=b.sg.create(c);b=b.Gg.create(d,c);a.hf=b}return a.hf}T.prototype.Ec=function(){return{context:this.query.clone(),ke:ei(this)}};function fi(a){T.call(this,a,new Jh(a.b(wc)))}r(fi,T);q("lf.query.DeleteBuilder",fi);fi.prototype.from=function(a){if(null!=this.query.from)throw new D(515);this.query.from=a;return this};fi.prototype.from=fi.prototype.from;fi.prototype.w=function(a){this.Hd();this.query.w=a;return this};fi.prototype.where=fi.prototype.w;fi.prototype.Hd=function(){if(null==this.query.from)throw new D(548);if(null!=this.query.w)throw new D(516);};
fi.prototype.kb=function(){fi.hb.kb.call(this);if(null==this.query.from)throw new D(517);};function gi(a,b){T.call(this,a,new Mh(a.b(wc)));this.query.dc=b||!1}r(gi,T);q("lf.query.InsertBuilder",gi);gi.prototype.kb=function(){gi.hb.kb.call(this);var a=this.query;if(null==a.Ka||null==a.values)throw new D(518);if(a.dc&&null===a.Ka.Jb().ed())throw new D(519);};gi.prototype.Ka=function(a){if(null!=this.query.Ka)throw new D(520);this.query.Ka=a;return this};gi.prototype.into=gi.prototype.Ka;
gi.prototype.values=function(a){if(null!=this.query.values)throw new D(521);a instanceof Rd||a.some(function(a){return a instanceof Rd})?this.query.ec=a:this.query.values=a;return this};gi.prototype.values=gi.prototype.values;function hi(a){return ii("and",Array.prototype.slice.call(arguments))}q("lf.op.and",hi);q("lf.op.or",function(a){return ii("or",Array.prototype.slice.call(arguments))});function ii(a,b){var c=new Jg(a);b.forEach(function(a){K(c,a)});return c}q("lf.op.not",function(a){a.xd(!0);return a});function U(a,b){T.call(this,a,new ue(a.b(wc)));this.Ne=this.Cd=!1;this.query.f=b;ji(this);ki(this)}r(U,T);q("lf.query.SelectBuilder",U);U.prototype.kb=function(){U.hb.kb.call(this);var a=this.query;if(null==a.from)throw new D(522);if(p(a.Vb)&&!p(a.X)||p(a.bc)&&!p(a.L))throw new D(523);null!=this.query.la?li(this):mi(this)};function ji(a){var b=a.query.f.filter(function(a){return a instanceof R&&"DISTINCT"==a.Ob},a);if(0!=b.length&&(1!=b.length||1!=a.query.f.length))throw new D(524);}
function li(a){var b=a.query.f.filter(function(a){return!(a instanceof R)}).map(function(a){return a.j()}),c=!1;if(0==a.query.la.length||0==a.query.f.length)c=!0;else{var d=a.query.la.map(function(a){return a.j()});(c=b.some(function(a){return-1==d.indexOf(a)}))||(c=a.query.la.some(function(a){a=a.I();return 6==a||0==a}))}if(c)throw new D(525);}
function mi(a){var b=a.query.f.some(function(a){return a instanceof R},a);a=a.query.f.some(function(a){return!(a instanceof R)},a)||0==a.query.f.length;if(b&&a)throw new D(526);}function ki(a){a.query.f.forEach(function(a){if(a instanceof R&&!ni(a.Ob,a.I()))throw new D(527,a.j());},a)}function oi(a,b){if(null==a.query.from)throw new D(b);}
U.prototype.from=function(a){if(this.Ne)throw new D(515);this.Ne=!0;null==this.query.from&&(this.query.from=[]);this.query.from.push.apply(this.query.from,Array.prototype.slice.call(arguments));return this};U.prototype.from=U.prototype.from;U.prototype.w=function(a){oi(this,548);if(this.Cd)throw new D(516);this.Cd=!0;pi(this,a);return this};U.prototype.where=U.prototype.w;function pi(a,b){if(null!=a.query.w){var c=hi(b,a.query.w);a.query.w=c}else a.query.w=b}
U.prototype.jg=function(a,b){oi(this,542);if(this.Cd)throw new D(547);this.query.from.push(a);pi(this,b);return this};U.prototype.innerJoin=U.prototype.jg;U.prototype.qg=function(a,b){oi(this,542);if(!(b instanceof Mg))throw new D(541);if(this.Cd)throw new D(547);this.query.from.push(a);null==this.query.cb&&(this.query.cb=A());var c=b;Od(a)!=Od(b.na.H())&&(c=b.reverse());this.query.cb.add(c.W());pi(this,c);return this};U.prototype.leftOuterJoin=U.prototype.qg;
U.prototype.X=function(a){if(null!=(this.query.X||this.query.Vb))throw new D(528);if(a instanceof Rd)this.query.Vb=a;else{if(0>a)throw new D(531);this.query.X=a}return this};U.prototype.limit=U.prototype.X;U.prototype.L=function(a){if(null!=(this.query.L||this.query.bc))throw new D(529);if(a instanceof Rd)this.query.bc=a;else{if(0>a)throw new D(531);this.query.L=a}return this};U.prototype.skip=U.prototype.L;
U.prototype.N=function(a,b){oi(this,549);null==this.query.N&&(this.query.N=[]);this.query.N.push({J:a,sb:null!=b?b:1});return this};U.prototype.orderBy=U.prototype.N;U.prototype.la=function(a){oi(this,549);if(null!=this.query.la)throw new D(530);null==this.query.la&&(this.query.la=[]);this.query.la.push.apply(this.query.la,Array.prototype.slice.call(arguments));return this};U.prototype.groupBy=U.prototype.la;
function ni(a,b){switch(a){case "COUNT":case "DISTINCT":return!0;case "AVG":case "GEOMEAN":case "STDDEV":case "SUM":return 4==b||3==b;case "MAX":case "MIN":return 4==b||3==b||5==b||2==b}return!1}U.prototype.clone=function(){var a=new U(this.global,this.query.f);a.query=this.query.clone();a.query.Zc=null;return a};U.prototype.clone=U.prototype.clone;function qi(a,b){T.call(this,a,new Oh(a.b(wc)));this.query.table=b}r(qi,T);q("lf.query.UpdateBuilder",qi);qi.prototype.set=function(a,b){var c={Wc:b instanceof Rd?b.Ca():-1,J:a,value:b};null!=this.query.set?this.query.set.push(c):this.query.set=[c];return this};qi.prototype.set=qi.prototype.set;qi.prototype.w=function(a){this.Hd();this.query.w=a;return this};qi.prototype.where=qi.prototype.w;qi.prototype.Hd=function(){if(null!=this.query.w)throw new D(516);};
qi.prototype.kb=function(){qi.hb.kb.call(this);if(null==this.query.set)throw new D(532);if(this.query.set.some(function(a){return a.value instanceof Rd}))throw new D(501);};function ri(a){this.query=a;this.Ha=null}ri.prototype.jc=function(){null===this.Ha&&(this.Ha=this.cd());return this.Ha};function si(a){ri.call(this,a)}r(si,ri);si.prototype.cd=function(){return this.query.dc?new oh(this.query.Ka,this.query.values):new nh(this.query.Ka,this.query.values)};function ti(a){ri.call(this,a)}r(ti,ri);ti.prototype.cd=function(){var a=new qh(this.query.table),b=null!=this.query.w?new rh(this.query.w.Pb()):null,c=new sh(this.query.table);null===b?K(a,c):(K(b,c),K(a,b));return a};function ui(a,b,c){this.Ha=a;this.le=b;this.Yb=c}ui.prototype.jc=function(){this.Yb.forEach(function(a){this.Ha=a.gb(this.Ha,this.le)},this);return this.Ha};function vi(a,b){ri.call(this,a);this.Yb=b}r(vi,ri);vi.prototype.cd=function(){var a=new ph(this.query.from),b=null!=this.query.w?new rh(this.query.w.Pb()):null,c=new sh(this.query.from);null===b?K(a,c):(K(b,c),K(a,b));return(new ui(a,this.query,this.Yb)).jc()};function wi(){}r(wi,Bh);wi.prototype.gb=function(a,b){if(2>b.from.length)return a;this.G=a;this.xb(this.G,b);return this.G};wi.prototype.xb=function(a,b){if(a instanceof rh&&a.O instanceof Mg){var c=a.O.W(),d=de(a,0);d instanceof th&&(c=null!=b.cb&&b.cb.has(c),c=new Ah(a.O,c),Hg(a,d,c,c),a==this.G&&(this.G=c),a=c)}J(a).forEach(function(a){this.xb(a,b)},this)};function xi(){this.Vc=A()}r(xi,Bh);xi.prototype.gb=function(a,b){if(!p(b.w))return a;this.Vc.clear();this.G=a;this.xb(this.G,b);this.Vc.clear();return this.G};xi.prototype.xb=function(a,b){var c=function(a){J(a).forEach(d)}.bind(this),d=function(a){if(!this.Vc.has(a)){if(a instanceof rh){var f=a.O.s(),h=function(a){return yi(this,a,f)}.bind(this),h=zi(this,b,a,h);this.Vc.add(a);h!=a&&(ga(h.getParent())&&(this.G=h),d(h))}c(a)}}.bind(this);d(a)};
function zi(a,b,c,d){var e=c;if(Ai(b,c))e=Fg(c),zi(a,b,c,d);else if(Bi(c)){var f=[],e=Gg(c,d,function(a){a=new rh(a.O);f.push(a);return a});f.forEach(function(a){zi(this,b,a,d)},a)}return e}function yi(a,b,c){var d=A();Bg(b).forEach(function(a){d.add(a.table)},a);b instanceof sh&&d.add(b.table);return Cc(d,c)}function Bi(a){a=de(a,0);return a instanceof th||a instanceof Ah}
function Ai(a,b){var c=de(b,0);if(!(c instanceof rh))return!1;if(null==a.cb)return!0;var d=b.O instanceof Mg,c=a.cb.has(c.O.W());return d||!c};function Ci(a,b){ri.call(this,a);this.Yb=b;this.mf=this.cf=this.vf=this.ff=this.Ee=this.Se=this.uf=this.Ke=this.xf=null}r(Ci,ri);
Ci.prototype.cd=function(){Di(this);2<=this.query.from.length&&(this.Ke=new th);this.uf=null!=this.query.w?new rh(this.query.w.Pb()):null;this.query.N&&(this.ff=new vh(this.query.N));null!=this.query.L&&0<this.query.L&&(this.vf=new zh(this.query.L));null!=this.query.X&&(this.cf=new yh(this.query.X));null!=this.query.la&&(this.Se=new xh(this.query.la));Ei(this);this.mf=new uh(this.query.f||[],this.query.la||null);var a=Fi(this);return(new ui(a,this.query,this.Yb)).jc()};
function Fi(a){for(var b=[a.cf,a.vf,a.mf,a.ff,a.Ee,a.Se,a.uf,a.Ke],c=-1,d=null,e=0;e<b.length;e++){var f=b[e];null!==f&&(null===d?d=f:K(b[c],f),c=e)}a.xf.forEach(function(a){K(b[c],a)});return d}function Di(a){a.xf=a.query.from.map(function(a){return new sh(a)},a)}function Ei(a){var b=a.query.f.filter(function(a){return a instanceof R});null!=a.query.N&&a.query.N.forEach(function(a){a.J instanceof R&&b.push(a.J)});0<b.length&&(a.Ee=new wh(b))};function Gi(){this.se=[new Ch,new Fh,new xi,new wi];this.Rd=[new Ch]}Gi.prototype.create=function(a){var b=null;if(a instanceof Mh)b=new si(a);else if(a instanceof Jh)b=new vi(a,this.Rd);else if(a instanceof ue)b=new Ci(a,this.se);else if(a instanceof Oh)b=new ti(a);else throw new D(513);b=b.jc();return new lh(b,a.da())};function Hi(a){S.call(this,0,1);this.U=a}r(Hi,S);Hi.prototype.toString=function(){return"delete("+this.U.getName()+")"};Hi.prototype.ca=function(a,b){var c=a[0].entries.map(function(a){return a.va});b.remove(this.U,c);return[Id()]};function Ii(a,b){S.call(this,0,-1);this.table=b;this.D=a.b(sc)}r(Ii,S);Ii.prototype.toString=function(){return"get_row_count("+this.table.getName()+")"};Ii.prototype.ca=function(){var a=this.D.get(gf(this.table)),b=new G([],[this.table.getName()]),c=Xg(),a=a.Y().ia;null===b.Za&&(b.Za=x());b.Za.set(c.j(),a);return[b]};function Ji(a,b){S.call(this,0,-1);this.V=a.b(rc);this.D=a.b(sc);this.table=b}r(Ji,S);Ji.prototype.toString=function(){var a="table_access("+this.table.getName();null===this.table.$a()||(a+=" as "+this.table.$a());return a+")"};Ji.prototype.ca=function(){var a=this.D.get(gf(this.table)).Ua();return[Ld(zf(this.V,a),[Od(this.table)])]};function Ki(a){this.c=a}r(Ki,Bh);Ki.prototype.gb=function(a,b){this.G=a;if(!this.Jd(b))return a;var c=Cg(a,function(a){return a instanceof Ji})[0],d=new Ii(this.c,c.table);Hg(c,c,d,d);return this.G};Ki.prototype.Jd=function(a){return 1==a.f.length&&1==a.from.length&&null==a.w&&null==a.X&&null==a.L&&null==a.la?(a=a.f[0],a instanceof R&&"COUNT"==a.Ob&&a.child instanceof Wg):!1};function Li(a){S.call(this,0,1);this.Re=a}r(Li,S);Li.prototype.toString=function(){return"groupBy("+this.Re.map(function(a){return a.j()}).toString()+")"};Li.prototype.ca=function(a){return Mi(this,a[0])};function Mi(a,b){var c=new Yc,d=function(a){return this.Re.map(function(b){return H(a,b)},this).join(",")}.bind(a);b.entries.forEach(function(a){c.set(d(a),a)},a);return c.keys().map(function(a){return new G(c.get(a),b.s())},a)};function Ni(a,b,c){S.call(this,0,0);this.D=a.b(sc);this.V=a.b(rc);this.O=b;this.Ub=c;this.Fd="eq"==this.O.C?0:2;this.Ue=null}r(Ni,S);var Oi=["hash","index_nested_loop","nested_loop"];Ni.prototype.toString=function(){return"join(type: "+(this.Ub?"outer":"inner")+", impl: "+Oi[this.Fd]+", "+this.O.toString()+")"};
Ni.prototype.ca=function(a){switch(this.Fd){case 0:return[Qg(this.O,a[0],a[1],this.Ub)];case 1:return[Rg(this.O,a[0],a[1],this.Ue,this.V)];default:var b=this.O,c=a[0];a=a[1];var d=this.Ub,e=[c,a];d||(e=Ng(b,c,a));c=e[0];a=e[1];for(var e=[],f=c.s(),h=a.s(),k=c.entries.length,n=a.entries.length,B=n+256-1>>8,O=0;O<B;){for(var ea=0;ea<k;ea++){var Cb=!1,gg=H(c.entries[ea],b.ga);if(null!==gg)for(var fc=Math.min(O+1<<8,n),Db=O<<8;Db<fc;Db++)if(b.yc(gg,H(a.entries[Db],b.na))){var Cb=!0,Vc=Qd(c.entries[ea],
f,a.entries[Db],h);e.push(Vc)}d&&!Cb&&e.push(Pg(b,c.entries[ea],f))}O++}b=c.s().concat(a.s());return[new G(e,b)]}};function Pi(a,b){a.Fd=1;var c=a.D.get(b.Ca().j());a.Ue={fg:b,yg:b==a.O.ga?a.O.na:a.O.ga,index:c}};function Qi(a){S.call(this,0,-1);this.nf=a}r(Qi,S);Qi.prototype.toString=function(){return"no_op_step("+this.nf[0].s().join(",")+")"};Qi.prototype.ca=g("nf");function Ri(){}r(Ri,Bh);Ri.prototype.gb=function(a,b){this.G=a;if(!this.Jd(b))return a;Cg(a,function(a){return a instanceof Ni}).forEach(this.Ig,this);return this.G};Ri.prototype.Jd=function(a){return 1<a.from.length};
Ri.prototype.Ig=function(a){if("eq"==a.O.C&&!a.Ub){var b=function(b){if(!(b instanceof Ji))return null;b=Od(b.table)==Od(a.O.na.H())?a.O.na:a.O.ga;return ga(b.Ca())?null:b},c=b(de(a,0)),b=b(de(a,1));if(null!==c||null!==b){b=null===b?c:b;Pi(a,b);var d=new G([],[Od(b.H())]);ge(a,new Qi([d]),b==c?0:1)}}};function Si(a){a=a.map(function(a){return a.ra()});a=Ab.apply(null,a);var b=[];zb(a,function(a){b.push(a)});return b}function Ti(a){this.Tb=a}Ti.prototype.dd=function(){return 1==this.Tb.f.length?[yd()]:[this.Tb.f.map(function(){return yd()})]};function Ui(a,b){this.Tb=a;this.Ga=b;this.Nd=this.af=null}
function Vi(a,b){var c=x();a.Ga.keys().forEach(function(a){var e=this.Ga.get(a).map(function(a){return pe(b,a)},this),f=new Cd([yd()]);e.forEach(function(a){f=Dd(f,a.xe())});c.set(a,f)},a);return c}Ui.prototype.dd=function(a){if(this.af==a)return this.Nd;for(var b=Vi(this,a),c=this.Tb.f.length-1;0<=c;c--){var d=this.Tb.f[c];if(null!==(b.get(d.ba.getName())||null))break;b.set(d.ba.getName(),new Cd([yd()]))}this.Nd=1==this.Tb.f.length?y(b)[0].ra():Si(Wi(this,b));this.af=a;return this.Nd};
function Wi(a,b){var c=x(),d=0;a.Tb.f.forEach(function(a){c.set(a.ba.getName(),d);d++});return ac(b).sort(function(a,b){return c.get(a)-c.get(b)}).map(function(a){return b.get(a)})};function Xi(a,b){this.zd=b;this.D=a.b(sc)}function Yi(a){a=a.D.get(gf(a.zd));return Math.floor(.02*a.Y().ia)}function Zi(a,b,c){c=c.filter(a.mg,a);if(0==c.length)return null;a=$i(a,c);if(0==a.length)return null;if(1==a.length)return a[0];var d=Number.MAX_VALUE;return a.reduce(function(a,c){var h=aj(c,b);return h<d?(d=h,c):a},null)}
function $i(a,b){return a.zd.Da().map(function(a){a=new bj(this.D,a);cj(a,b);return a},a).filter(function(a){if(null===a.Ga)a=!1;else{for(var b=!1,e=!0,f=0;f<a.bb.f.length;f++){var h=a.Ga.has(a.bb.f[f].ba.getName());if(b&&h){e=!1;break}h||(b=!0)}a=e}return a})}Xi.prototype.mg=function(a){return a instanceof ke?!a.od()||a.J.H()!=this.zd||"in"==a.C&&a.value.length>Yi(this)?!1:!0:a instanceof Jg?a.od()&&de(a,0).J.H()==this.zd?J(a).length<=Yi(this):!1:!1};
function bj(a,b){this.D=a;this.bb=b;this.gg=A(this.bb.f.map(function(a){return a.ba.getName()}));this.be=this.Ga=null}function dj(a){null===a.be&&(a.be=new Ui(a.bb,a.Ga));return a.be}function cj(a,b){b.forEach(function(a){var b=a.nb()[0].getName();this.gg.has(b)&&(null===this.Ga&&(this.Ga=new Yc),this.Ga.set(b,a.W()))},a)}function aj(a,b){var c=dj(a).dd(b),d=a.D.get(a.bb.j());return c.reduce(function(a,b){return a+d.ad(b)},0)};function ej(a,b,c,d){S.call(this,0,-1);this.D=a.b(sc);this.index=b;this.$e=c;this.pe=d;this.Uc=this.Tc=!1}r(ej,S);ej.prototype.toString=function(){return"index_range_scan("+this.index.j()+", ?, "+(this.pe?"reverse":"natural")+(this.Tc?", limit:?":"")+(this.Uc?", skip:?":"")+")"};ej.prototype.Sc=function(a){var b=this.toString(),c=this.$e.dd(a),b=b.replace("?",c.toString());this.Tc&&(b=b.replace("?",a.X.toString()));this.Uc&&(b=b.replace("?",a.L.toString()));return b};
ej.prototype.ca=function(a,b,c){a=this.$e.dd(c);b=this.D.get(this.index.j());c=(1==a.length&&a[0]instanceof E&&zd(a[0])?Df(b.get(a[0].from),!1,this.Tc?c.X:void 0,this.Uc?c.L:void 0):b.Ua(a,this.pe,this.Tc?c.X:void 0,this.Uc?c.L:void 0)).map(function(a){return new bc(a,{})},this);return[Ld(c,[this.index.pc])]};function fj(){S.call(this,0,0)}r(fj,S);fj.prototype.toString=l("multi_index_range_scan()");
fj.prototype.ca=function(a){var b=x();a.forEach(function(a){a.entries.forEach(function(a){b.set(a.va.id(),a)})});var c=y(b);return[new G(c,a[0].s())]};function gj(a){S.call(this,0,1);this.mc=a}r(gj,S);gj.prototype.toString=l("select(?)");gj.prototype.Sc=function(a){a=pe(a,this.mc);return this.toString().replace("?",a.toString())};gj.prototype.ca=function(a,b,c){return[pe(c,this.mc).eval(a[0])]};function hj(a,b){S.call(this,0,1);this.V=a.b(rc);this.U=b}r(hj,S);hj.prototype.toString=function(){return"table_access_by_row_id("+this.U.getName()+")"};hj.prototype.ca=function(a){return[Ld(zf(this.V,Fd(a[0])),[Od(this.U)])]};function ij(a){this.c=a}r(ij,Bh);ij.prototype.gb=function(a,b){this.G=a;Cg(a,function(a){return a instanceof Ji}).forEach(function(a){var d=jj(a);if(0!=d.length){var e=Zi(new Xi(this.c,a.table),b,d.map(function(a){return pe(b,a.mc)}));if(null!==e){var f=x();d.forEach(function(a){f.set(a.mc,a)},this);this.G=kj(this,e,f,a)}}},this);return this.G};function jj(a){var b=[];for(a=a.getParent();a;){if(a instanceof gj)b.push(a);else if(a instanceof Ni)break;a=a.getParent()}return b}
function kj(a,b,c,d){(null===b.Ga?[]:b.Ga.values()).map(function(a){return c.get(a)}).forEach(Dg);b=new ej(a.c,b.bb,dj(b),!1);a=new hj(a.c,d.table);K(a,b);Hg(d,d,a,b);return b.ab()};function lj(a,b){S.call(this,0,-1);this.D=a.b(sc);this.U=b}r(lj,S);lj.prototype.toString=function(){return"insert("+this.U.getName()+")"};lj.prototype.ca=function(a,b,c){mj(this.U,c.values,this.D);b.Db(this.U,c.values);return[Ld(c.values,[this.U.getName()])]};function mj(a,b,c){a=a.Jb().ed();if(null===a?0:a.f[0].autoIncrement){var d=a.f[0].ba.getName();c=c.get(a.j()).Y().Ic;var e=null===c?0:c;b.forEach(function(a){if(0==a.m[d]||null==a.m[d])e++,a.m[d]=e})}}
function nj(a,b){S.call(this,0,-1);this.D=a.b(sc);this.U=b}r(nj,S);nj.prototype.toString=function(){return"insert_replace("+this.U.getName()+")"};nj.prototype.ca=function(a,b,c){mj(this.U,c.values,this.D);b.Yd(this.U,c.values);return[Ld(c.values,[this.U.getName()])]};function oj(){S.call(this,0,1)}r(oj,S);oj.prototype.toString=l("limit(?)");oj.prototype.Sc=function(a){return this.toString().replace("?",a.X.toString())};oj.prototype.ca=function(a,b,c){a[0].entries.splice(c.X);return a};function pj(a){S.call(this,0,1);this.N=a}r(pj,S);m=pj.prototype;m.toString=function(){return"order_by("+ve(this.N)+")"};m.ca=function(a){if(1==a.length){var b;b=a[0];for(var c=null,d=0;d<this.N.length;d++){var e=Yg(this.N[d].J);if(null!==b.Za&&b.Za.has(e.j())){c=e;break}}b=c;(null===b?a[0]:Gd(a[0],b)).entries.sort(this.Wf.bind(this))}else a.sort(this.Lg.bind(this));return a};
m.$=function(a,b){var c=null,d=null,e=null,f=-1;do f++,e=this.N[f].J,c=this.N[f].sb,d=a(e),e=b(e);while(d==e&&f+1<this.N.length);d=d<e?-1:d>e?1:0;return 1==c?d:-d};m.Lg=function(a,b){return this.$(function(b){return b instanceof R?Gd(a,b):H(a.entries[a.entries.length-1],b)},function(a){return a instanceof R?Gd(b,a):H(b.entries[b.entries.length-1],a)})};m.Wf=function(a,b){return this.$(function(b){return H(a,b)},function(a){return H(b,a)})};function qj(a,b){this.Ma=a;this.K=b}function rj(a){return a.K.some(function(a){return a instanceof R},a)?sj(a):tj(a)}function sj(a){if(1==a.K.length&&"DISTINCT"==a.K[0].Ob)return a=Gd(a.Ma,a.K[0]).entries.map(function(a){var b=new Md(new bc(-1,{}),1<this.Ma.M.size);Pd(b,this.K[0],H(a,this.K[0].child));return b},a),new G(a,[]);var b=new Md(new bc(-1,{}),1<a.Ma.M.size);a.K.forEach(function(a){var d=a instanceof R?Gd(this.Ma,a):H(this.Ma.entries[0],a);Pd(b,a,d)},a);return new G([b],a.Ma.s())}
function tj(a){var b=Array(a.Ma.entries.length),c=1<a.Ma.M.size;a.Ma.entries.forEach(function(a,e){b[e]=new Md(new bc(a.va.id(),{}),c);this.K.forEach(function(c){Pd(b[e],c,H(a,c))},this)},a);return new G(b,a.Ma.s())}function uj(a,b){var c=a.map(function(a){return rj(new qj(a,b)).entries[0]});return new G(c,a[0].s())};function vj(a,b){S.call(this,0,1);this.f=a;this.Sb=b}r(vj,S);vj.prototype.toString=function(){var a="project("+this.f.toString();if(null!==this.Sb)var b=this.Sb.map(function(a){return a.j()}).join(", "),a=a+(", groupBy("+b+")");return a+")"};vj.prototype.ca=function(a){0==a.length?a=[Id()]:1==a.length?(a=a[0],a=[0==this.f.length?a:rj(new qj(a,this.f))]):a=[uj(a,this.f)];return a};function wj(a){return a.f.some(function(a){return a instanceof R})||null!==a.Sb};function xj(){S.call(this,0,1)}r(xj,S);xj.prototype.toString=l("skip(?)");xj.prototype.Sc=function(a){return this.toString().replace("?",a.L.toString())};xj.prototype.ca=function(a,b,c){return[new G(a[0].entries.slice(c.L),a[0].s())]};function yj(){}r(yj,Bh);yj.prototype.gb=function(a,b){if(!p(b.X)&&!p(b.L))return a;var c=zj(a);if(null===c)return a;Cg(a,function(a){return a instanceof oj||a instanceof xj}).forEach(function(a){a instanceof oj?c.Tc=!0:c.Uc=!0;Dg(a)},this);return c.ab()};function zj(a){a=Cg(a,function(a){return a instanceof ej},function(a){return a instanceof vj&&wj(a)||a instanceof pj||1!=J(a).length||a instanceof gj});return 0<a.length?a[0]:null};function Aj(a){this.c=a}r(Aj,Bh);Aj.prototype.gb=function(a,b){this.G=a;var c=Bj(this,b);if(0==c.length)return this.G;var d=null,e=null,f=0;do e=c[f++],d=Cj(this,e,b);while(null===d&&f<c.length);if(null===d)return this.G;c=Dj(this,d[0].bb.pc);return null===c?this.G:this.G=Ej(this,e,c,d)};function Bj(a,b){return Cg(a.G,function(a){if(!(a instanceof gj))return!1;a=pe(b,a.mc);return a instanceof Jg&&"or"==a.rb})}
function Dj(a,b){return Cg(a.G,function(a){return a instanceof Ji&&a.table.getName()==b})[0]||null}function Cj(a,b,c){b=pe(c,b.mc);var d=b.s();if(1!=d.size)return null;var d=C(d)[0],e=new Xi(a.c,d),f=null;return J(b).every(function(a){a=Zi(e,c,[a]);null===a||(null===f?f=[a]:f.push(a));return null!==a})?f:null}function Ej(a,b,c,d){var e=new hj(a.c,c.table),f=new fj;K(e,f);d.forEach(function(a){a=new ej(this.c,a.bb,dj(a),!1);K(f,a)},a);Dg(b);Hg(c,c,e,f);return f.ab()};function Fj(a){this.c=a}r(Fj,Bh);Fj.prototype.gb=function(a,b){var c=Gj(a,b);if(null===c)return a;var d;a:{var e=c;d=Hj(de(c,0));if(null!==d){var f;f=c.N;for(var h=null,k=d.table.Da(),n=0;n<k.length&&null===h;n++)h=Ij(k[n],f);f=h;if(null===f){d=e;break a}e=new ej(this.c,f.bb,new Ti(f.bb),f.Xe);f=new hj(this.c,d.table);K(f,e);Dg(c);e=Hg(d,d,f,e)}d=e}if(d==c)a:if(d=c,e=Jj(de(c,0)),null!==e){f=Ij(e.index,c.N);if(null===f)break a;e.pe=f.Xe;d=Dg(c).parent}return d.ab()};
function Jj(a){a=Cg(a,function(a){return a instanceof ej},function(a){return 1!=J(a).length});return 0<a.length?a[0]:null}function Hj(a){a=Cg(a,function(a){return a instanceof Ji},function(a){return 1!=J(a).length});return 0<a.length?a[0]:null}function Gj(a,b){return p(b.N)?Cg(a,function(a){return a instanceof pj})[0]:null}function Ij(a,b){if(a.f.length!=b.length||!b.every(function(b,c){return b.J.getName()==a.f[c].ba.getName()}))return null;var c=Kj(b,a);return c[0]||c[1]?{bb:a,Xe:c[1]}:null}
function Kj(a,b){var c=a.reduce(function(a,b){return a<<1|(0==b.sb?0:1)},0),d=b.f.reduce(function(a,b){return a<<1|(0==b.sb?0:1)},0),c=c^d;return[0==c,c==Math.pow(2,Math.max(a.length,b.f.length))-1]};function Lj(a,b,c){this.Ha=a;this.le=b;this.Yb=c}Lj.prototype.jc=function(){this.Yb.forEach(function(a){this.Ha=a.gb(this.Ha,this.le)},this);return this.Ha};function Mj(a){S.call(this,0,1);this.U=a}r(Mj,S);Mj.prototype.toString=function(){return"update("+this.U.getName()+")"};Mj.prototype.ca=function(a,b,c){a=a[0].entries.map(function(a){var b=this.U.mb(a.va.Ja());c.set.forEach(function(a){b.m[a.J.getName()]=a.value},this);return b},this);b.update(this.U,a);return[Id()]};function Nj(a){this.c=a;this.se=[new Ri,new ij(this.c),new Aj(this.c),new Fj(this.c),new yj,new Ki(this.c)];this.Rd=[new ij(this.c)]}Nj.prototype.create=function(a,b){var c=a.ab();if(c instanceof oh||c instanceof nh)return Oj(this,a,b);if(c instanceof uh||c instanceof yh||c instanceof zh)return Oj(this,a,b,this.se);if(c instanceof ph||c instanceof qh)return Oj(this,a,b,this.Rd);throw new D(8);};
function Oj(a,b,c,d){a=Ag(b.ab(),a.vg.bind(a));null!=d&&(a=(new Lj(a,c,d)).jc());return new we(a,b.da())}
Nj.prototype.vg=function(a){if(a instanceof uh)return new vj(a.f,a.Sb);if(a instanceof xh)return new Li(a.f);if(a instanceof wh)return new bh(a.f);if(a instanceof vh)return new pj(a.N);if(a instanceof zh)return new xj;if(a instanceof yh)return new oj;if(a instanceof rh)return new gj(a.O.W());if(a instanceof th)return new Gh;if(a instanceof Ah)return new Ni(this.c,a.O,a.Ub);if(a instanceof sh)return new Ji(this.c,a.table);if(a instanceof ph)return new Hi(a.table);if(a instanceof qh)return new Mj(a.table);
if(a instanceof oh)return new nj(this.c,a.table);if(a instanceof nh)return new lj(this.c,a.table);throw new D(514);};function Pj(a){this.sg=new Gi;this.Gg=new Nj(a)};function Qj(){this.df=x()}function Rj(a,b){var c=a.df.get(b.getName())||null;null===c&&(c=new Sj,a.df.set(b.getName(),c));return c}function Tj(a,b,c,d){c.forEach(function(a){a=Rj(this,a);0==d?(a.eb=null,a.zc=b):3==d?(null===a.ac&&(a.ac=A()),a.ac.add(b),null===a.Xa&&(a.Xa=A()),a.Xa.delete(b)):1==d?(null===a.Xa&&(a.Xa=A()),a.Xa.add(b)):2==d&&(a.eb=b)},a)}
function Uj(a,b,c,d){var e=!0;c.forEach(function(a){if(e){a=Rj(this,a);var c=null===a.Xa||0==a.Xa.size;e=0==d?(null===a.ac||0==a.ac.size)&&c&&null===a.zc&&null!==a.eb&&a.eb==b:3==d?null===a.zc&&null===a.eb&&null!==a.Xa&&a.Xa.has(b):1==d?null===a.eb:c&&(null===a.eb||a.eb==b)}},a);return e}function Vj(a,b,c,d){var e=Uj(a,b,c,d);e&&Tj(a,b,c,d);return e}Qj.prototype.releaseLock=function(a,b){b.forEach(function(b){Rj(this,b).releaseLock(a)},this)};
function Wj(a,b){b.forEach(function(a){Rj(this,a).eb=null},a)}function Sj(){this.ac=this.Xa=this.eb=this.zc=null}Sj.prototype.releaseLock=function(a){this.zc==a&&(this.zc=null);this.eb==a&&(this.eb=null);null===this.Xa||this.Xa.delete(a);null===this.ac||this.ac.delete(a)};function Xj(){this.Xb=new Yj;this.Hc=new Qj}function Ee(a,b){(2>b.getPriority()||2>b.getPriority())&&Wj(a.Hc,b.da());a.Xb.Db(b);Zj(a);return b.Rb().ha}function Zj(a){for(var b=a.Xb.ra(),c=0;c<b.length;c++){var d=b[c],e=!1;if(e=0==d.I()?ak(a,d,1,3):ak(a,d,2,0))a.Xb.remove(d),e=a,d.exec().then(e.Dg.bind(e,d),e.Cg.bind(e,d))}}function ak(a,b,c,d){var e=!1;Vj(a.Hc,b.W(),b.da(),c)&&(e=Vj(a.Hc,b.W(),b.da(),d));return e}Xj.prototype.Dg=function(a,b){this.Hc.releaseLock(a.W(),a.da());a.Rb().resolve(b);Zj(this)};
Xj.prototype.Cg=function(a,b){this.Hc.releaseLock(a.W(),a.da());a.Rb().reject(b);Zj(this)};function Yj(){this.Xb=[]}Yj.prototype.Db=function(a){Cf(this.Xb,a,function(a,c){var d=a.getPriority()-c.getPriority();return 0==d?a.W()-c.W():d})};Yj.prototype.ra=function(){return this.Xb.slice()};Yj.prototype.remove=function(a){var b=this.Xb;a=ya(b,a);var c;(c=0<=a)&&Array.prototype.splice.call(b,a,1);return c};function bk(){this.Qc=x()}var ck;function dk(){ck||(ck=new bk);return ck}bk.prototype.clear=function(){this.Qc.clear()};bk.prototype.clear=bk.prototype.clear;bk.prototype.ub=function(a,b){this.Qc.set(a.toString(),b);return b};bk.prototype.registerService=bk.prototype.ub;bk.prototype.b=function(a){var b=this.Qc.get(a.toString())||null;if(null===b)throw new D(7,a.toString());return b};bk.prototype.getService=bk.prototype.b;bk.prototype.pd=function(a){return this.Qc.has(a.toString())};
bk.prototype.isRegistered=bk.prototype.pd;function ek(){var a=dk();return ac(a.Qc)};function fk(a,b,c,d){return null!=a?null!=b?gk(a,b,c,d):hk(a):ik()}function jk(a){var b="";try{b=JSON.stringify(a)}catch(c){}return b}function kk(a){var b=dk();a=new pc("ns_"+a);return b.pd(a)?b.b(a):null}function ik(){var a={};ek().forEach(function(b){"ns_"==b.substring(0,3)&&(b=b.substring(3),a[b]=kk(b).b(wc).version())});return jk(a)}function hk(a){a=kk(a);var b={};if(null!=a){var c=a.b(sc);a.b(wc).pa().forEach(function(a){b[a.getName()]=c.get(gf(a)).Y().ia})}return jk(b)}
function gk(a,b,c,d){var e=kk(a);a=[];if(null!=e){var f=null;try{f=e.b(wc).table(b)}catch(h){}null!=f&&(b=e.b(sc),e=e.b(rc),c=b.get(gf(f)).Ua(void 0,!1,c,d),c.length&&(a=zf(e,c).map(function(a){return a.m})))}return jk(a)};function lk(a,b){this.Sd=$d();this.me=a;this.rd=b;this.K=mk(this)}function mk(a){if(0<a.me.f.length)return a.me.f;var b=[];a.me.from.forEach(function(a){a.nb().forEach(function(a){b.push(a)})});return b}lk.prototype.$=function(a,b){return this.K.every(function(c){return ae(this.Sd,c.I(),"eq")(H(a,c),H(b,c))},this)};
function nk(a,b,c){var d=null===b?[]:b.entries,e=rb(d,c.entries,a.$.bind(a),function(a){return d[a]});b=[];for(var f=0,h=0;h<d.length;h++){var k=d[h];e[f]==k?f++:(k=a.rd.splice(f,1),k=ok(h,k,0,a.rd),b.push(k))}e=rb(d,c.entries,a.$.bind(a),function(a,b){return c.entries[b]});for(h=f=0;h<c.entries.length;h++)k=c.entries[h],e[f]==k?f++:(a.rd.splice(h,0,k.va.m),k=ok(h,[],1,a.rd),b.push(k));return b}function ok(a,b,c,d){return{addedCount:c,index:a,object:d,removed:b,type:"splice"}};function pk(){this.ic=x()}pk.prototype.Ed=function(a,b){var c=la(a.query).toString(),d=this.ic.get(c)||null;null===d&&(d=new qk(a),this.ic.set(c,d));d.Ed(b)};pk.prototype.ne=function(a,b){var c=la(a.query).toString(),d=this.ic.get(c)||null;d.ne(b);0<d.Kc.size||this.ic.delete(c)};function De(a,b){var c=A();b.forEach(function(a){c.add(a.getName())});var d=[];a.ic.forEach(function(a){a=a.Ec();a.context.from.some(function(a){return c.has(a.getName())})&&d.push(a)});return d}
function Be(a,b,c){b=la(null!=b.Zc?b.Zc:b).toString();a=a.ic.get(b)||null;null!==a&&rk(a,c)}function qk(a){this.Jf=a;this.Kc=A();this.Ag=[];this.bf=null;this.Uf=new lk(a.query,this.Ag)}qk.prototype.Ed=function(a){this.Kc.has(a)||this.Kc.add(a)};qk.prototype.ne=function(a){return this.Kc.delete(a)};qk.prototype.Ec=function(){var a=this.Jf;return{context:a.query,ke:ei(a)}};function rk(a,b){var c=nk(a.Uf,a.bf,b);a.bf=b;0<c.length&&a.Kc.forEach(function(a){a(c)})};function sk(a,b){var c=a.b(wc),d=b||{},e=new yf(c);a.ub(rc,e);var e=null,f=!1;null!=d.storeType?e=d.storeType:(e=Zb(),e=e.hg?0:e.Wg?4:1);switch(e){case 0:e=new cf(a,c);break;case 1:e=new kf(c);break;case 5:e=new nf(c);break;case 4:e=new vf(a,c,d.webSqlDbSize);break;case 3:e=new Qe(c,d.firebase);f=!0;break;default:throw new D(300);}a.ub(qc,e);var h=new zg;a.ub(sc,h);return e.Ea(d.onUpgrade).then(function(){var b=new Pj(a);a.ub(tc,b);b=new Xj;a.ub(uc,b);b=new pk;a.ub(vc,b);return h.Ea(c)}).then(function(){if(f){var b=
new Fe(a);b.Na.subscribe(b.fe.bind(b))}d.enableInspector&&(window.top["#lfInspect"]=fk);return(new sg(a)).Ea(c)})};function tk(a){this.c=a;this.g=a.b(wc);this.aa=A(this.g.pa());this.fb=gb()}function uk(a){var b=a.c.b(sc),c=a.c.b(rc),d={};a.g.pa().forEach(function(a){var f=b.get(gf(a)).Ua(),f=zf(c,f).map(function(a){return a.m});d[a.getName()]=f});return{name:a.g.name(),version:a.g.version(),tables:d}}m=tk.prototype;m.exec=function(){var a=uk(this),a=new Md(new bc(-1,a),!0);return v([new G([a],[])])};m.I=l(0);m.da=g("aa");m.Rb=g("fb");m.W=function(){return la(this)};m.getPriority=l(0);function vk(a,b){this.c=a;this.g=a.b(wc);this.aa=A(this.g.pa());this.fb=gb();this.Ba=b;this.Na=a.b(qc);this.V=a.b(rc);this.D=a.b(sc)}m=vk.prototype;
m.exec=function(){if(!(this.Na instanceof cf||this.Na instanceof kf||this.Na instanceof vf))throw new D(300);var a;a:{a=this.g.pa();for(var b=0;b<a.length;++b)if(0<this.D.get(gf(a[b])).Y().ia){a=!1;break a}a=!0}if(!a)throw new D(110);if(this.g.name()!=this.Ba.name||this.g.version()!=this.Ba.version)throw new D(111);if(null==this.Ba.tables)throw new D(112);return wk(this)};m.I=l(1);m.da=g("aa");m.Rb=g("fb");m.W=function(){return la(this)};m.getPriority=l(0);
function wk(a){var b=new pd(a.c,a.aa),b=a.Na.Hb(a.I(),C(a.aa),b),c;for(c in a.Ba.tables){var d=a.g.table(c),e=a.Ba.tables[c].map(function(a){return d.Ab(a)}),f=b.H(c,d.mb,0);a.V.Zb(c,e);var h=a.D.oc.get(c)||[];e.forEach(function(a){h.forEach(function(b){var c=a.pb(b.getName());b.add(c,a.id())})});f.put(e)}return b.ka()};function xk(a,b){this.c=a;this.Na=a.b(qc);this.Ia=a.b(uc);this.Lb=a.b(vc);this.aa=A(b);this.Qa=new pd(this.c,this.aa);this.fb=gb();this.Ac=gb();this.Ae=gb()}m=xk.prototype;m.exec=function(){this.Ae.resolve();return this.Ac.ha};m.I=l(1);m.da=g("aa");m.Rb=g("fb");m.W=function(){return la(this)};m.getPriority=l(2);function yk(a){Ee(a.Ia,a);return a.Ae.ha}
function zk(a,b){var c=b.Ec();return c.ke.ab().exec(a.Qa,c.context).then(function(a){return Ed(a[0])},function(a){this.Qa.Mb();var b=new lb(a.name);this.Ac.reject(b);throw a;}.bind(a))}m.ka=function(){this.ja=this.Na.Hb(this.I(),C(this.aa),this.Qa);this.ja.ka().then(function(){this.Pc();this.Ac.resolve()}.bind(this),function(a){this.Qa.Mb();this.Ac.reject(a)}.bind(this));return this.fb.ha};m.Mb=function(){this.Qa.Mb();this.Ac.resolve();return this.fb.ha};
m.Pc=function(){var a=De(this.Lb,this.aa);0!=a.length&&(a=new Ae(this.c,a),Ee(this.Ia,a))};m.Y=function(){var a=null;null!=this.ja&&(a=this.ja.Y());return null===a?new z(!1,0,0,0,0):a};function V(a){this.c=a;this.Ia=a.b(uc);this.Nb=null;this.Sa=0;0==Ak.size&&(Ak.set(0,A([1,4])),Ak.set(1,A([2])),Ak.set(2,A([3,5,6])),Ak.set(3,A([2,7])),Ak.set(4,A([7])),Ak.set(5,A([7])),Ak.set(6,A([7])))}q("lf.proc.Transaction",V);var Ak=x();function Bk(a,b){var c=Ak.get(a.Sa)||null;if(null===c||!c.has(b))throw new D(107,a.Sa,b);a.Sa=b}
V.prototype.exec=function(a){Bk(this,4);var b=[];try{a.forEach(function(a){a.kb();b.push(a.Ec())},this)}catch(c){return Bk(this,7),cb(c)}this.Nb=new Hh(this.c,b);return Ee(this.Ia,this.Nb).then(function(a){Bk(this,7);return a.map(function(a){return Ed(a)})}.bind(this),function(a){Bk(this,7);throw a;}.bind(this))};V.prototype.exec=V.prototype.exec;V.prototype.Hf=function(a){Bk(this,1);this.Nb=new xk(this.c,a);return yk(this.Nb).then(function(){Bk(this,2)}.bind(this))};V.prototype.begin=V.prototype.Hf;
V.prototype.Gf=function(a){Bk(this,3);return zk(this.Nb,a).then(function(a){Bk(this,2);return a}.bind(this),function(a){Bk(this,7);throw a;}.bind(this))};V.prototype.attach=V.prototype.Gf;V.prototype.ka=function(){Bk(this,5);return this.Nb.ka().then(function(){Bk(this,7)}.bind(this))};V.prototype.commit=V.prototype.ka;V.prototype.Mb=function(){Bk(this,6);return this.Nb.Mb().then(function(){Bk(this,7)}.bind(this))};V.prototype.rollback=V.prototype.Mb;
V.prototype.Y=function(){if(7!=this.Sa)throw new D(105);return this.Nb.Y()};V.prototype.stats=V.prototype.Y;function W(a){this.c=a;this.g=a.b(wc);this.ld=!1}q("lf.proc.Database",W);W.prototype.Ea=function(a){this.c.ub(wc,this.g);return sk(this.c,a).then(function(){this.ld=!0;this.Ia=this.c.b(uc);return this}.bind(this))};W.prototype.init=W.prototype.Ea;W.prototype.Cb=g("g");W.prototype.getSchema=W.prototype.Cb;function Ck(a){if(!a.ld)throw new D(2);}W.prototype.select=function(a){Ck(this);return new U(this.c,1!=arguments.length||null!=arguments[0]?Array.prototype.slice.call(arguments):[])};
W.prototype.select=W.prototype.select;W.prototype.Db=function(){Ck(this);return new gi(this.c)};W.prototype.insert=W.prototype.Db;W.prototype.Yd=function(){Ck(this);return new gi(this.c,!0)};W.prototype.insertOrReplace=W.prototype.Yd;W.prototype.update=function(a){Ck(this);return new qi(this.c,a)};W.prototype.update=W.prototype.update;W.prototype.delete=function(){Ck(this);return new fi(this.c)};W.prototype["delete"]=W.prototype.delete;
W.prototype.observe=function(a,b){Ck(this);this.c.b(vc).Ed(a,b)};W.prototype.observe=W.prototype.observe;W.prototype.unobserve=function(a,b){Ck(this);this.c.b(vc).ne(a,b)};W.prototype.unobserve=W.prototype.unobserve;W.prototype.Qf=function(){Ck(this);return new V(this.c)};W.prototype.createTransaction=W.prototype.Qf;W.prototype.close=function(){try{this.c.b(qc).close()}catch(a){}this.c.clear();this.ld=!1};W.prototype.close=W.prototype.close;
W.prototype.$f=function(){Ck(this);var a=new tk(this.c);return Ee(this.Ia,a).then(function(a){return Ed(a[0])[0]})};W.prototype["export"]=W.prototype.$f;W.prototype.import=function(a){Ck(this);a=new vk(this.c,a);return Ee(this.Ia,a).then(l(null))};W.prototype["import"]=W.prototype.import;function X(a,b,c,d,e,f){this.U=a;this.A=b;this.Ye=c;this.We=d;this.zf=e;this.jb=f||null}q("lf.schema.BaseColumn",X);m=X.prototype;m.getName=g("A");m.j=function(){return Od(this.U)+"."+this.A};m.toString=function(){return this.j()};m.H=g("U");m.I=g("zf");X.prototype.getType=X.prototype.I;X.prototype.$a=g("jb");X.prototype.Da=function(){null==this.ta&&(this.ta=[],this.H().Da().forEach(function(a){-1!=a.f.map(function(a){return a.ba.getName()}).indexOf(this.A)&&this.ta.push(a)},this));return this.ta};
X.prototype.Ca=function(){if(!p(this.fa)){var a=this.Da().filter(function(a){return 1!=a.f.length?!1:a.f[0].ba.getName()==this.getName()},this);this.fa=0<a.length?a[0]:null}return this.fa};X.prototype.kc=g("We");X.prototype.isNullable=X.prototype.kc;X.prototype.Gc=g("Ye");X.prototype.Pa=function(a){return Sg(this,a,"eq")};X.prototype.eq=X.prototype.Pa;X.prototype.ef=function(a){return Sg(this,a,"neq")};X.prototype.neq=X.prototype.ef;X.prototype.tg=function(a){return Sg(this,a,"lt")};
X.prototype.lt=X.prototype.tg;X.prototype.ug=function(a){return Sg(this,a,"lte")};X.prototype.lte=X.prototype.ug;X.prototype.cg=function(a){return Sg(this,a,"gt")};X.prototype.gt=X.prototype.cg;X.prototype.dg=function(a){return Sg(this,a,"gte")};X.prototype.gte=X.prototype.dg;X.prototype.match=function(a){return Sg(this,a,"match")};X.prototype.match=X.prototype.match;X.prototype.If=function(a,b){return Sg(this,[a,b],"between")};X.prototype.between=X.prototype.If;
X.prototype.eg=function(a){return Sg(this,a,"in")};X.prototype["in"]=X.prototype.eg;X.prototype.og=function(){return this.Pa(null)};X.prototype.isNull=X.prototype.og;X.prototype.ng=function(){return this.ef(null)};X.prototype.isNotNull=X.prototype.ng;X.prototype.uc=function(a){return new X(this.U,this.A,this.Ye,this.We,this.zf,a)};X.prototype.as=X.prototype.uc;function Dk(a){this.g=a;this.Kd=new Yc;this.oe=new Yc;this.gf=new Yc;this.Je=x();this.h=new Yc;this.Fe=new Yc;this.pf=new Yc;this.Ie=new Yc;Ek(this)}function Ek(a){a.g.pa().forEach(function(a){var c=a.getName();a.Jb().Xd().forEach(function(d){this.gf.set(c,this.g.table(d.Wa));this.h.set(d.Wa,a);0==d.action?(this.oe.set(d.Wa,d),this.pf.set(d.Wa,a)):(this.Kd.set(d.Wa,d),this.Fe.set(d.Wa,a));this.Je.set(a.getName()+"."+d.yb,d.Wa);this.Ie.set(d.Wa+"."+d.Mc,a.getName())},this)},a)}
function fd(a,b,c){if(null!=c)return 1==c?a.Kd.get(b):a.oe.get(b);c=a.Kd.get(b);a=a.oe.get(b);return null===c&&null===a?null:(c||[]).concat(a||[])}function Nh(a,b){var c=b.get(a);return null===c?[]:c}function Ph(a,b){var c=A();b.forEach(function(a){(a=this.Je.get(a))&&c.add(a)},a);return C(c).map(function(a){return this.g.table(a)},a)}function Lh(a,b,c){return null!=c?0==c?Nh(b,a.pf):Nh(b,a.Fe):Nh(b,a.h)}
function Qh(a,b){var c=A();b.forEach(function(a){(a=this.Ie.get(a))&&a.forEach(function(a){c.add(a)})},a);return C(c).map(function(a){return this.g.table(a)},a)};function Fk(a,b,c){this.Hg=a;this.zg=b;this.ag=c}q("lf.schema.Constraint",Fk);Fk.prototype.ed=g("Hg");Fk.prototype.getPrimaryKey=Fk.prototype.ed;Fk.prototype.Xd=g("ag");Fk.prototype.getForeignKeys=Fk.prototype.Xd;function Gk(a,b,c){var d=a.ref.split(".");if(2!=d.length)throw new D(540,c);this.He=b;this.yb=a.local;this.Wa=d[0];this.Mc=d[1];this.name=b+"."+c;this.action=a.action;this.timing=a.timing};function Y(a){Hk(a);this.Sd=$d();this.A=a;this.K=x();this.Bd=A();this.qc=A();this.qd=A();this.Fa=null;this.ta=x();this.ud=!1;this.Bb=[]}q("lf.schema.TableBuilder",Y);function Ik(a){this.name=a.name;this.sb=a.order;this.autoIncrement=a.autoIncrement}var Jk=A([0,6]);function Hk(a){if(!/^[A-Za-z_][A-Za-z0-9_]*$/.test(a))throw new D(502,a);}function Kk(a,b){if(b==a.A)throw new D(546,b);if(a.K.has(b)||a.ta.has(b)||a.qc.has(b))throw new D(503,a.A+"."+b);}
function Lk(a,b){var c=!1;b.forEach(function(a){var b=this.K.get(a.name);c=c||a.autoIncrement;if(a.autoIncrement&&3!=b)throw new D(504);},a);if(c&&1<b.length)throw new D(505);}function Mk(a){if(null!==a.Fa){var b=a.ta.get(a.Fa).map(function(a){return a.name}),c=0;if(a.Bb.some(function(a,e){c=e;return-1!=b.indexOf(a.yb)},a))throw new D(543,a.Bb[c].name);}}
function Nk(a){if(null!==a.Fa){var b=function(a){return a.name},c=JSON.stringify(a.ta.get(a.Fa).map(b));a.ta.forEach(function(a,e){if(e!=this.Fa){var f=a.map(b);if(JSON.stringify(f)==c)throw new D(544,this.A+"."+e);}},a)}}function Ok(a){null===a.Fa||a.ta.get(a.Fa).forEach(function(a){if(this.qd.has(a.name))throw new D(545,this.A+"."+a.name);},a)}Y.prototype.Bf=function(a,b){Hk(a);Kk(this,a);this.K.set(a,b);Jk.has(b)&&this.Ce([a]);return this};Y.prototype.addColumn=Y.prototype.Bf;
Y.prototype.Df=function(a,b){var c=this.A;this.Fa="pk"+(c[0].toUpperCase()+c.substring(1));Hk(this.Fa);Kk(this,this.Fa);c=Pk(this,a,!0,void 0,b);Lk(this,c);1==c.length&&this.Bd.add(c[0].name);this.qc.add(this.Fa);this.ta.set(this.Fa,c);return this};Y.prototype.addPrimaryKey=Y.prototype.Df;
Y.prototype.Cf=function(a,b){Hk(a);Kk(this,a);var c=new Gk(b,this.A,a);p(c.action)||(c.action=0);p(c.timing)||(c.timing=0);if(1==c.action&&1==c.timing)throw new D(506);if(!this.K.has(c.yb))throw new D(540,a);this.Bb.push(c);this.Be(a,[c.yb],this.Bd.has(c.yb));return this};Y.prototype.addForeignKey=Y.prototype.Cf;Y.prototype.Ef=function(a,b){Hk(a);Kk(this,a);var c=Pk(this,b,!0);1==c.length&&(this.Bd.add(c[0].name),Qk(this,c[0].name));this.ta.set(a,c);this.qc.add(a);return this};
Y.prototype.addUnique=Y.prototype.Ef;function Qk(a,b){a.Bb.forEach(function(a){a.yb==b&&this.qc.add(a.name.split(".")[1])},a)}Y.prototype.Ce=function(a){Pk(this,a,!1).forEach(function(a){this.qd.add(a.name)},this);return this};Y.prototype.addNullable=Y.prototype.Ce;Y.prototype.Be=function(a,b,c,d){Hk(a);Kk(this,a);b=Pk(this,b,!0,d);c&&this.qc.add(a);this.ta.set(a,b);return this};Y.prototype.addIndex=Y.prototype.Be;Y.prototype.Fb=ba("ud");Y.prototype.persistentIndex=Y.prototype.Fb;
Y.prototype.Cb=function(){Mk(this);Nk(this);Ok(this);return new (Rk(this))};Y.prototype.getSchema=Y.prototype.Cb;function Sk(a){return a.Bb}function Pk(a,b,c,d,e){var f=b,f="string"==typeof b[0]?b.map(function(a){return new Ik({name:a,order:null!=d?d:1,autoIncrement:e||!1})}):b.map(function(a){return new Ik(a)});f.forEach(function(a){if(!this.K.has(a.name))throw new D(508,this.A,a.name);if(c){var b=this.K.get(a.name);if(0==b||6==b)throw new D(509,this.A,a.name);}},a);return f}
function Rk(a){function b(){function b(c){return a.ta.get(c).map(function(a){return{ba:this[a.name],sb:a.sb,autoIncrement:a.autoIncrement}},this)}var d=ac(a.K).map(function(b){this[b]=new X(this,b,a.Bd.has(b),a.qd.has(b),a.K.get(b));return this[b]},this),e=ac(a.ta).map(function(d){return new Ug(a.A,d,a.qc.has(d),b.call(this,d))},this);Q.call(this,a.A,d,e,a.ud);var f=null===a.Fa?null:new Ug(a.A,a.Fa,!0,b.call(this,a.Fa)),h=d.filter(function(b){return!a.qd.has(b.getName())});this.Nf=new Fk(f,h,a.Bb);
this.sf=Tk(a,d,e)}r(b,Q);b.prototype.Ab=function(a){return new this.sf(cc++,a)};b.prototype.createRow=b.prototype.Ab;b.prototype.mb=function(a){var b={};this.nb().forEach(function(e){var f=e.getName();e=e.I();var h=a.value[f];if(0==e)if(e=h,null!=e&&""!=e){0!=e.length%2&&(e="0"+e);for(var h=new ArrayBuffer(e.length/2),k=new Uint8Array(h),n=0,B=0;n<e.length;n+=2)k[B++]=parseInt(e.substr(n,2),16);e=h}else e=null;else e=2==e?null!=h?new Date(h):null:h;b[f]=e},this);return new this.sf(a.id,b)};b.prototype.deserializeRow=
b.prototype.mb;b.prototype.Jb=g("Nf");b.prototype.getConstraint=b.prototype.Jb;return b}
function Tk(a,b,c){function d(a,d){this.K=b;this.ta=c;bc.call(this,a,d)}r(d,bc);d.prototype.Le=function(){var a={};this.K.forEach(function(b){a[b.getName()]=b.kc()?null:Xc[b.I()]});return a};d.prototype.yf=function(){var a={};this.K.forEach(function(b){var c=b.getName();b=b.I();var d=this.m[c];a[c]=0==b?null!=d?gc(d):null:2==b?null!=d?d.getTime():null:6==b?null!=d?d:null:d},this);return a};var e=function(a){var b=this.K.get(a.getName()),c=this.Sd.Ze.get(b)||null;return function(b){return c(b[a.getName()])}}.bind(a),
f=function(a){var b=a.map(function(a){return e(a.ba)});return function(a){return b.map(function(b){return b(a)})}}.bind(a),h={};c.forEach(function(a){var b=a.j();a=1==a.f.length?e(a.f[0].ba):f(a.f);h[b]=a});d.prototype.pb=function(a){return-1!=a.indexOf("#")?this.id():h.hasOwnProperty(a)?h[a](this.m):null};return d};function Uk(a,b){this.g=new Z(a,b);this.wb=x();this.Bc=!1;this.i=null}q("lf.schema.Builder",Uk);function Vk(a,b){b.Bb.forEach(function(a){var d=a.Wa;if(!this.wb.has(d))throw new D(536,a.name);var d=this.wb.get(d).Cb(),e=a.Mc;if(!d.hasOwnProperty(e))throw new D(537,a.name);if(b.Cb()[a.yb].I()!=d[e].I())throw new D(538,a.name);if(!d[e].Gc())throw new D(539,a.name);},a)}
Uk.prototype.Mf=function(a){a.Bb.forEach(function(a){Sk(this.wb.get(a.Wa)).forEach(function(c){if(c.yb==a.Mc)throw new D(534,a.name);},this)},this)};function Wk(a){a.Bc||(a.wb.forEach(function(a){Vk(this,a);a=a.Cb();this.g.M.set(a.getName(),a)},a),y(a.wb).forEach(a.Mf,a),Xk(a),a.wb.clear(),a.Bc=!0)}function Yk(a,b,c){b.ze||(b.ze=!0,b.ge=!0,b.Me.forEach(function(a){a=c.get(a);if(!a.ze)Yk(this,a,c);else if(a.ge&&b!=a)throw new D(533);},a));b.ge=!1}
function Xk(a){var b=x();a.g.M.forEach(function(a,d){b.set(d,new Zk(d))},a);a.wb.forEach(function(a,d){a.Bb.forEach(function(a){b.get(a.Wa).Me.add(d)})});y(b).forEach(function(a){Yk(this,a,b)},a)}function Zk(a){this.ge=this.ze=!1;this.Me=A();this.pc=a}Uk.prototype.Cb=function(){this.Bc||Wk(this);return this.g};Uk.prototype.getSchema=Uk.prototype.Cb;Uk.prototype.Qe=function(){var a=new pc("ns_"+this.g.name()),b=dk(),c=null;b.pd(a)?c=b.b(a):(c=new bk,b.ub(a,c));return c};Uk.prototype.getGlobal=Uk.prototype.Qe;
Uk.prototype.connect=function(a){if(null!==this.i&&this.i.ld)throw new D(113);if(null===this.i){var b=this.Qe();b.pd(wc)||b.ub(wc,this.Cb());this.i=new W(b)}return this.i.Ea(a)};Uk.prototype.connect=Uk.prototype.connect;Uk.prototype.Pf=function(a){if(this.wb.has(a))throw new D(503,a);if(this.Bc)throw new D(535);this.wb.set(a,new Y(a));return this.wb.get(a)};Uk.prototype.createTable=Uk.prototype.Pf;Uk.prototype.te=function(a){if(this.Bc)throw new D(535);this.g.te(a);return this};
Uk.prototype.setPragma=Uk.prototype.te;function Z(a,b){this.A=a;this.Ta=b;this.M=x();this.lf={Vf:!1}}q("lf.schema.DatabaseSchema",Z);Z.prototype.name=g("A");Z.prototype.name=Z.prototype.name;Z.prototype.version=g("Ta");Z.prototype.version=Z.prototype.version;Z.prototype.pa=function(){return y(this.M)};Z.prototype.tables=Z.prototype.pa;Z.prototype.table=function(a){if(!this.M.has(a))throw new D(101,a);return this.M.get(a)};Z.prototype.table=Z.prototype.table;
Z.prototype.info=function(){this.Ve||(this.Ve=new Dk(this));return this.Ve};Z.prototype.kf=g("lf");Z.prototype.pragma=Z.prototype.kf;Z.prototype.te=ba("lf");q("lf.schema.create",function(a,b){return new Uk(a,b)});u.prototype.catch=u.prototype.we;u.prototype["catch"]=u.prototype.catch;
try{if(module){module.exports=lf;}}catch(e){}}.bind(window))()
//# sourceMappingURL=lovefield.min.js.map
